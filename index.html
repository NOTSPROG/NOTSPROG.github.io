<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>NX の 博客</title><meta name="author" content="Nick Xu"><meta name="copyright" content="Nick Xu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="这家伙真勤奋，什么都留下了">
<meta property="og:type" content="website">
<meta property="og:title" content="NX の 博客">
<meta property="og:url" content="https://www.nickxu.top/index.html">
<meta property="og:site_name" content="NX の 博客">
<meta property="og:description" content="这家伙真勤奋，什么都留下了">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.nickxu.top/static/favicon.jpg">
<meta property="article:author" content="Nick Xu">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.nickxu.top/static/favicon.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.nickxu.top/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.min.js',
      css: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'NX の 博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-01-04 13:03:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/static/my.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="NX の 博客" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/static/favicon.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">252</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">35</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/todo/"><i class="fa-fw fas fa-list-alt"></i><span> ToDo</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-coffee"></i><span> 更多</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/contact/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/bookmarks/"><i class="fa-fw fas fa-bookmark"></i><span> 网址收藏</span></a></li><li><a class="site-page child" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/static/202202230023824.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">NX の 博客</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-book"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/todo/"><i class="fa-fw fas fa-list-alt"></i><span> ToDo</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-coffee"></i><span> 更多</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/contact/"><i class="fa-fw fas fa-comments"></i><span> 留言板</span></a></li><li><a class="site-page child" href="/bookmarks/"><i class="fa-fw fas fa-bookmark"></i><span> 网址收藏</span></a></li><li><a class="site-page child" href="/links/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">NX の 博客</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="tencent://message/?uin=976180942&amp;Site=tool.520101.com&amp;Menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="/static/weixin.jpg" target="_blank" title="微信"><i class="fab fa-weixin"></i></a><a class="social-icon" href="mailto:976180942@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2019/11/14/cc-2019csp-mo-ban/" title="『C/C++』2019CSP模板">『C/C++』2019CSP模板</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2019-11-14T12:16:16.000Z" title="发表于 2019-11-14 20:16:16">2019-11-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a></span></div><div class="content">思维导图

快读
12345678inline int read()&#123;   int s=0,w=1;   char ch=getchar();   while(ch&lt;&#x27;0&#x27;||ch&gt;&#x27;9&#x27;)&#123;if(ch==&#x27;-&#x27;)w=-1;ch=getchar();&#125;   while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;) s=s*10+ch-&#x27;0&#x27;,ch=getchar();   return s*w;&#125;
逆序对
12345678910111213141516171819void msort(int s, int t)&#123;	if (s == t) return; //如果只有一个数字则返回，无须排序 	int mid=(s+t)/2; 	msort(s,mid); //分解左序列 	msort(mid+1,t); //分解右序列	int i = s, j = mid + 1, k = s; //接下 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/02/13/Hexo%20+%20Butterfly%20%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97%EF%BC%88%E3%80%87%EF%BC%89%E5%89%8D%E8%A8%80/" title="Hexo + Butterfly 建站指南（〇）前言">Hexo + Butterfly 建站指南（〇）前言</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-13T03:17:17.000Z" title="发表于 2022-02-13 11:17:17">2022-02-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Hexo-Butterfly-%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97/">Hexo + Butterfly 建站指南</a></span></div><div class="content">

恭喜你发现了宝藏！🎉🎉🎉

本系列是这个博客网站的搭建教程，个人的踩坑经历也会一并记录
因为需要面向小白，所以很多地方会讲的比较细碎
这个博客系统的运作流程是：在本地安装配置 Hexo框架 + Butterfly主题 ，然后根据 Markdown文档 生成静态文件，再推送至云端，公网上只需要一个网页服务器就行
目录

Hexo + Butterfly 建站指南（〇）前言
Hexo + Butterfly 建站指南（一）Hexo 框架
Hexo + Butterfly 建站指南（二）部署至个人站点或 GitHub Pages
Hexo + Butterfly 建站指南（三）Butterfly 主题
Hexo + Butterfly 建站指南（四）Twikoo 评论系统
Hexo + Butterfly 建站指南（五）日常写作
Hexo + Butterfly 建站指南（六）PicGO + Gitee 图床（已废弃）
Hexo + Butterfly 建站指南（七）阿里云 OSS 图床
Hexo + Butterfly 建站指南（八）使用 KaTeX 数学公式

鸣谢

Hexo ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/19/%E3%80%8ECI-CD%E3%80%8F%E4%BD%BF%E7%94%A8Webhook%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="『CI/CD』使用Webhook通知服务器">『CI/CD』使用Webhook通知服务器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-19T13:50:41.000Z" title="发表于 2022-12-19 21:50:41">2022-12-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/CICD/">CICD</a></span></div><div class="content">在前面的 Github Actions 工作流中，我们最后都是直接使用 SSH 连接在服务器上执行命令，但是这样很不优雅，而且会被认为是服务器被异常登录
所以可以尝试使用 webhook
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/14/%E3%80%8ECI-CD%E3%80%8F%E7%BB%93%E5%90%88GitHub-Actions-Docker%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/" title="『CI/CD』结合GitHub Actions+Docker实现自动化部署">『CI/CD』结合GitHub Actions+Docker实现自动化部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-14T07:42:48.000Z" title="发表于 2022-12-14 15:42:48">2022-12-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/CICD/">CICD</a></span></div><div class="content">上一篇 『CI/CD』使用GitHub Actions实现简单的自动化部署  中实现了简单的自动化部署，本篇来介绍一下使用 docker 的做法 （NX 整整折腾了两天呢）

基本流程
首先要明确一下最终的运行流程，一共有4个步骤

更新代码，提交至GitHub
GitHub 触发 Actions，自动 build 镜像，并推送至镜像仓库
服务器拉取最新镜像
重新启动容器

因为今天时间有点紧我就不画图了（明天赶回家，要收拾东西）

本地原生运行测试
首先第一步要介绍一下我们的项目，还是上次的仓库：https://github.com/NX-Official/github-actions-test ，当然啦，现在是 v3 分支
为了方便我本次使用一个 go-zero 的 demo，因为它来生成 Dockerfile 比较方便
首先和文档一样创建一个 hello 服务
1goctl api new hello
为了模拟可能的业务场景，我现在给这个 demo 增加两个要求：

我这个项目需要使用 mysql 和 redis 等服务，但是 docker 中的 mysql 会对性能造成影响，我 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/13/%E3%80%8EDocker%E3%80%8FDocker%E5%86%85%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AE%E5%AE%BF%E4%B8%BB%E6%9C%BA%E7%9A%84%E7%AB%AF%E5%8F%A3/" title="『Docker』Docker内程序如何访问宿主机的端口">『Docker』Docker内程序如何访问宿主机的端口</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-13T15:50:20.000Z" title="发表于 2022-12-13 23:50:20">2022-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/Docker/">Docker</a></span></div><div class="content">好家伙，折腾了这个问题折腾了一天，刚才终于搞定了，简直不要太高兴
事情是这样的，我现在要折腾基于 Docker 的自动化部署，然后我的项目已经打包好了，但是运行起来有问题，一直说连不上 mysql
然后呢？ 就递归折腾（不是） 我就感觉肯定是网络的事情
然后就想是不是要折腾容器间通信，但是把 mysql 跑在 docker 里面肯定有不少损耗吧，问了下助手里面的大佬，结论也是这样
那么，现在的问题就是，如何让 Docker内程序如何访问宿主机的端口
然后我就去搜哇，看各种文章博客去各种平台，还看了些项目，看他们是怎么解决的
但是助手的项目自然都是读服务器上的配置文件，我也看不见
去看 docker 相关的教程，但都感觉好像没遇见这个问题一样，提都不提
去网上查这个问题，有的说就 docker 启动的时候有个网卡，然后直接连它的 ip 就行，但是我没搞定
有的说启动的时候指定 host 模式，这个在 Linux 上的确可以（当然是后面发现的），但是我在 Mac 上不行，也没报错，就这样又折腾了好久
然后去翻官方文档这是个什么玩意，然后我就看见了

没事了，人麻了
然后我在服务器上尝试，的 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/10/%E8%AE%BE%E7%BD%AE%E5%9C%A8%E4%BD%BF%E7%94%A8-SSH-key-%E6%97%B6%E4%B8%8D%E7%94%A8%E5%86%8D%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/" title="设置在使用 SSH key 时不用再输入密码">设置在使用 SSH key 时不用再输入密码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-10T03:35:29.000Z" title="发表于 2022-12-10 11:35:29">2022-12-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%96%B0%E6%8A%80%E8%83%BD-Got/">新技能 Got</a></span></div><div class="content">今早发生了非常尴尬的事情，我在群里抱怨怎样才能在 git ssh 的时候不用密码

然后群u们居然告诉我：你在生成的时候不输密码就可以了！

好家伙，这么多年每天多输了这么多密码（
那要怎样重置密码为空呢？使用下面的命令
1ssh-keygen -p -f ~/.ssh/id_rsa

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/09/%E4%BD%BF%E7%94%A8GitHub-Actions%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/" title="『CI/CD』使用GitHub Actions实现简单的自动化部署">『CI/CD』使用GitHub Actions实现简单的自动化部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-09T12:17:58.000Z" title="发表于 2022-12-09 20:17:58">2022-12-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E8%BF%90%E7%BB%B4/CICD/">CICD</a></span></div><div class="content">本篇是一个 GitHub Actions 使用示例，实现在每次提交代码时自动更新你的远端服务器正在运行的项目
但是我并不会从头开始向你介绍 GitHub Actions 是什么，而要求你事先对它有所了解
你可以去看官方文档，去 B 站找视频看，网上有很多高质量的参考资料
简单地说就是 GitHub 可以在你更新代码或合并分支的时候开一个虚拟机帮你完成一些事情


又或者，你也可以去问 ChatGPT，哈哈😄

那为什么说是“简单的”呢？因为本篇只会举一个很简单的例子，不会涉及 docker ，也没有 k3s 集群
本篇的例子可以在我的仓库找到：https://github.com/NX-Official/github-actions-test
为了将重点放在部署上，我以下面的 main.go 为例，它只显示一个简单的 hello world
12345678910111213141516package mainimport (   &quot;github.com/gin-gonic/gin&quot;)func main() &#123;   r := gin.Default()  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/12/01/%E3%80%8EC-C-%E3%80%8F%E4%B8%80%E6%96%87%E5%88%9D%E8%AF%86Makefile%E4%B8%8ECMake/" title="『C/C++』一文初识Makefile与CMake">『C/C++』一文初识Makefile与CMake</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-12-01T02:12:51.000Z" title="发表于 2022-12-01 10:12:51">2022-12-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Golang/">Golang</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Golang/%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A/">语法速通</a></span></div><div class="content">
本文来源于 B 站视频，鄙人只是跟着做一下笔记：

Makefile 20分钟入门，简简单单，展示如何使用Makefile管理和编译C++代码
CMake 6分钟入门，不用再写复杂的Makefile

感觉这个老师讲的真的好 ，要是杭电也都是这样的的老师就好了（


编译链接的预备知识
在手动编译一些 C/C++ 项目时，你会经常遇到下面的命令
12cmake .make
这两个都是用来管理和编译 C/C++ 项目的工具，本文将浅浅地介绍这两个工具的使用
首先引出一个小项目作为例子，项目结构如下
12345./├── factorial.cpp├── function.h├── main.cpp└── printhello.cpp
目前共有 4 个文件，首先来看 printhello.cpp
123456789#include &lt;iostream&gt;#include &quot;function.h&quot;using namespace std;void printhello()&#123;    int i;    cout &lt;&lt; &quot;Hello  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/23/Golang-%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A%E6%8C%87%E5%8D%97%EF%BC%88%E5%8D%81%EF%BC%89%E5%87%BD%E6%95%B0%E4%B9%8B%E8%BF%9B%E9%98%B6%E4%BD%BF%E7%94%A8/" title="Golang 语法速通指南（十）函数之进阶使用">Golang 语法速通指南（十）函数之进阶使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-23T08:17:58.000Z" title="发表于 2022-11-23 16:17:58">2022-11-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Golang/">Golang</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Golang/%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A/">语法速通</a></span></div><div class="content">函数进阶一点的使用，就是将函数当作一个变量
函数类型
若要将函数作为变量，那自然是有类型的
那函数的类型是怎样的呢？一个函数的类型就是它的签名（名称、入参列表、出参列表）
签名一样的函数，类型就一样
例如定义一个 add 函数，然后打印它的类型
1234567func add(x, y int) int &#123;   return x + y&#125;func main() &#123;	fmt.Printf(&quot;%T&quot;, add) // func(int, int) int&#125;
既然函数也是一种变量，那么肯定是可以相互赋值的
123456func main() &#123;   fmt.Println(add(1, 2)) // 3   var f func(int, int) int   f = add   fmt.Println(f(1, 2)) // 3&#125;
当然了，你也可以给函数类型起别名
123456type MyFuncType func(int, int) intfunc main() &#123;   var f MyFuncT ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/20/%E3%80%8EGo%E3%80%8F%E4%BD%BF%E7%94%A8-grpc-%E6%97%B6%E4%BC%A0%E9%80%92%E9%94%99%E8%AF%AF%E7%9A%84%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95/" title="『Go』使用 grpc 时传递错误的一种方法">『Go』使用 grpc 时传递错误的一种方法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-20T04:03:46.000Z" title="发表于 2022-11-20 12:03:46">2022-11-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Golang/">Golang</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Golang/go-zero-%E6%A1%86%E6%9E%B6/">go-zero 框架</a></span></div><div class="content">折腾了一天，算是找到了一种解决方法
就是我现在需要在调用 rpc 时传递全局错误，我定义的全局错误如下
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package rpcError// RpcError rpc 错误，参考了 https://junedayday.github.io/2021/05/07/go-tip/go-tip-3/type Code intconst (	ErrPersonNotExistCode Code = iota + 1000	ErrPersonCreateFailedCode	ErrPersonUpdateFailedCode	ErrPersonDeleteFailedCode	ErrClassNotExistCode Code = iota + 2000	ErrClassCreateFailedCode	ErrClassUpdateFai ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/18/%E3%80%8Ek8s%E3%80%8F%E5%88%9B%E5%BB%BAdashboard%E8%AE%BF%E9%97%AEtoken/" title="『k8s』创建dashboard访问token">『k8s』创建dashboard访问token</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-18T12:36:13.000Z" title="发表于 2022-11-18 20:36:13">2022-11-18</time></span></div><div class="content">前几天老王八蛋给了我杭助服务器的权限，让我一睹部署的细节
然后本菜鸡还没接触 k8s ，先把生成 dashboard token 的命令记一下（
1k3s kubectl -n kubernetes-dashboard create token admin-user
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/14/Golang-%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A%E6%8C%87%E5%8D%97%EF%BC%88%E4%B9%9D%EF%BC%89%E5%87%BD%E6%95%B0/" title="Golang 语法速通指南（九）函数之基础使用">Golang 语法速通指南（九）函数之基础使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-14T12:15:33.000Z" title="发表于 2022-11-14 20:15:33">2022-11-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Golang/">Golang</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Golang/%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A/">语法速通</a></span></div><div class="content">Go 中的函数基本可分为普通函数、匿名函数和方法，方法可视为绑定在结构体上的函数，将在之后单独讲解
普通函数的声明
函数声明包括函数名，参数（入参，形参，随你怎么叫）列表，返回值（出参）列表以及函数体
123func 函数名([入参列表]) [返回值列表] &#123;	函数体&#125;
函数返回值
一个函数可以有返回值，也可以没有返回值，甚至可以有多个返回值
下面是一个简单的函数
123func sum(a, b int) int &#123;    return a + b&#125;
你可以在返回值列表就把返回的变量给定义好，这样可以 return 的时候会自动返回对应的变量
1234func sum(a, b int) (c int) &#123; // 这种写法以及多返回值都要加括号    c = a + b    return&#125;
多返回值的例子
123func divi(a, b int) (int, int) &#123;    return a / b, a % b&#125;
函数参数
值传递还是引用传递
在 C++ 中，函数一般是值传递，也就是传递的是实 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/11/%E3%80%8EGo%E3%80%8F%E5%88%86%E4%BA%AB%E4%B8%80%E7%A7%8D%E5%A4%84%E7%90%86%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84%E5%8F%AF%E8%A1%8C%E6%96%B9%E6%A1%88/" title="『Go』记录一种处理大文件上传的可行方案：tus 协议">『Go』记录一种处理大文件上传的可行方案：tus 协议</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-11T04:11:41.000Z" title="发表于 2022-11-11 12:11:41">2022-11-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Go/">Go</a></span></div><div class="content">由于项目业务需要，我需要处理一些大文件的上传（比如说几百MB的视频）
然后在网上搜了一通之后是，发现都是一些零散的实现
但是我感觉这种东西一定是有人造过轮子的，于是我就到 GitHub 上搜索相关的包

然后就发现了 tus 这个项目

打开官网，我发现这是一个基于 HTTP 的开源协议（有 在线 Demo ，感觉挺不错的），还有官方的 Go 实现 tusd ，简直不要太爽
来看在 Go 项目中如何使用 tusd 包
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758package mainimport (	&quot;fmt&quot;	&quot;net/http&quot;	&quot;github.com/tus/tusd/pkg/filestore&quot;	tusd &quot;github.com/tus/tusd/pkg/handler&quot;)func main() &#123;	// Create  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/09/%E6%96%B0%E4%BA%BA%E5%A6%82%E4%BD%95%E5%8F%82%E5%8A%A0%E9%9D%A2%E8%AF%95%E7%B3%BB%E7%BB%9F%E5%90%8E%E7%AB%AF%E8%AE%B2%E8%A7%A3%E7%95%99%E6%A1%A3/" title="新人如何参加面试系统后端讲解留档">新人如何参加面试系统后端讲解留档</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-09T02:16:13.000Z" title="发表于 2022-11-09 10:16:13">2022-11-09</time></span></div><div class="content">前几天讲的，BB了一个小时
https://hdu-help.feishu.cn/docx/NVHqdjh00o53KIxzv9ict5AxnVh
如有不好的地方请大力敲打我
</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/08/Golang-%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A%E6%8C%87%E5%8D%97%EF%BC%88%E5%85%AB%EF%BC%89%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E7%BB%93%E6%9E%84%E4%BD%93/" title="Golang 语法速通指南（八）复合数据结构之结构体">Golang 语法速通指南（八）复合数据结构之结构体</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-08T12:14:54.000Z" title="发表于 2022-11-08 20:14:54">2022-11-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Golang/">Golang</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Golang/%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A/">语法速通</a></span></div><div class="content">创建结构体
var
Golang 中的结构体和 C++ 中的差别不大，下面是一个例子
1234567891011type Employee struct &#123;    ID        int    Name      string    Address   string    DoB       time.Time    Position  string    Salary    int    ManagerID int&#125;var dilbert Employee
一个最显著的区别就是在 C/C++ 中，访问指针成员必须用 -&gt; ，但是 Go 中可以像访问普通变量一样使用点操作符 .
而且在使用结构体指针的时候，不必使用 (*p).x ，直接使用 p.x 即可，Go 会帮你处理的
而且如果你想在函数中修改结构体的话，必须传入指针
使用大写表示可导出也可以算是一个 Go 特色
扯远了，来看下一个创建方式
字面值
123type Point struct&#123; X, Y int &#125;p := Point&#123;1, 2&#125;
这是只按顺序给出 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2022/11/07/Golang-%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A%E6%8C%87%E5%8D%97%EF%BC%88%E4%B8%83%EF%BC%89%E5%A4%8D%E5%90%88%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B-Map/" title="Golang 语法速通指南（七）复合数据结构之 Map">Golang 语法速通指南（七）复合数据结构之 Map</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-07T12:14:42.000Z" title="发表于 2022-11-07 20:14:42">2022-11-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Golang/">Golang</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Golang/%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A/">语法速通</a></span></div><div class="content">用过 C++ 的 STL 的人肯定见过 Map，或者说这东西相当于 Python 中的字典
简单地说，就是用来存储键值对的结构，键（key）必须是可比较类型，而值（value）可以是任意类型
创建 Map
var
1var m map[string]int
使用 make
1m = make(map[string]int)
使用字面值
1m = map[string]int&#123;&quot;one&quot;: 1, &quot;two&quot;: 2&#125;
当然你可以指定内容为空
1m = map[string]int&#123;&#125;
通过使用空接口，你可以在同一个 map 中存储不同类型的 value（就像 Python 中的字典一样）
1234m = map[string]interface&#123;&#125;&#123;    &quot;name&quot;: &quot;张三&quot;,    &quot;age&quot;: 18,&#125;
当然现在空接口有一个语法糖 any ，不够我还是习惯旧的写法
添加元素
直接使用索引添加
12age ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/#content-inner">16</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/static/favicon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Nick Xu</div><div class="author-info__description">这家伙真勤奋，什么都留下了</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">252</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">35</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/NX-Official"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="tencent://message/?uin=976180942&amp;Site=tool.520101.com&amp;Menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="/static/weixin.jpg" target="_blank" title="微信"><i class="fab fa-weixin"></i></a><a class="social-icon" href="mailto:976180942@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/19/%E3%80%8ECI-CD%E3%80%8F%E4%BD%BF%E7%94%A8Webhook%E9%80%9A%E7%9F%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/" title="『CI/CD』使用Webhook通知服务器">『CI/CD』使用Webhook通知服务器</a><time datetime="2022-12-19T13:55:06.284Z" title="更新于 2022-12-19 21:55:06">2022-12-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/14/%E3%80%8ECI-CD%E3%80%8F%E7%BB%93%E5%90%88GitHub-Actions-Docker%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/" title="『CI/CD』结合GitHub Actions+Docker实现自动化部署">『CI/CD』结合GitHub Actions+Docker实现自动化部署</a><time datetime="2022-12-16T12:38:15.529Z" title="更新于 2022-12-16 20:38:15">2022-12-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/13/%E3%80%8EDocker%E3%80%8FDocker%E5%86%85%E7%A8%8B%E5%BA%8F%E5%A6%82%E4%BD%95%E8%AE%BF%E9%97%AE%E5%AE%BF%E4%B8%BB%E6%9C%BA%E7%9A%84%E7%AB%AF%E5%8F%A3/" title="『Docker』Docker内程序如何访问宿主机的端口">『Docker』Docker内程序如何访问宿主机的端口</a><time datetime="2022-12-14T10:34:54.759Z" title="更新于 2022-12-14 18:34:54">2022-12-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/09/%E4%BD%BF%E7%94%A8GitHub-Actions%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/" title="『CI/CD』使用GitHub Actions实现简单的自动化部署">『CI/CD』使用GitHub Actions实现简单的自动化部署</a><time datetime="2022-12-14T07:38:08.435Z" title="更新于 2022-12-14 15:38:08">2022-12-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/10/%E8%AE%BE%E7%BD%AE%E5%9C%A8%E4%BD%BF%E7%94%A8-SSH-key-%E6%97%B6%E4%B8%8D%E7%94%A8%E5%86%8D%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/" title="设置在使用 SSH key 时不用再输入密码">设置在使用 SSH key 时不用再输入密码</a><time datetime="2022-12-10T03:58:16.838Z" title="更新于 2022-12-10 11:58:16">2022-12-10</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C-C/"><span class="card-category-list-name">C / C++</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/"><span class="card-category-list-name">Golang</span><span class="card-category-list-count">46</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/Flamego-%E6%A1%86%E6%9E%B6/"><span class="card-category-list-name">Flamego 框架</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/GORM-%E6%A1%86%E6%9E%B6/"><span class="card-category-list-name">GORM 框架</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/Gin-%E6%A1%86%E6%9E%B6/"><span class="card-category-list-name">Gin 框架</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/go-zero-%E6%A1%86%E6%9E%B6/"><span class="card-category-list-name">go-zero 框架</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Golang/%E8%AF%AD%E6%B3%95%E9%80%9F%E9%80%9A/"><span class="card-category-list-name">语法速通</span><span class="card-category-list-count">12</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Hexo-Butterfly-%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97/"><span class="card-category-list-name">Hexo + Butterfly 建站指南</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Others/"><span class="card-category-list-name">Others</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python/"><span class="card-category-list-name">Python</span><span class="card-category-list-count">14</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python/Python3-%E5%85%A5%E9%97%A8/"><span class="card-category-list-name">Python3 入门</span><span class="card-category-list-count">13</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%A4%8D%E4%B9%A0/"><span class="card-category-list-name">基础课复习</span><span class="card-category-list-count">15</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%A4%8D%E4%B9%A0/%E5%A4%A7%E5%AD%A6%E7%89%A9%E7%90%86/"><span class="card-category-list-name">大学物理</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%A4%8D%E4%B9%A0/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/"><span class="card-category-list-name">离散数学</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E8%AF%BE%E5%A4%8D%E4%B9%A0/%E9%AB%98%E7%AD%89%E6%95%B0%E5%AD%A6/"><span class="card-category-list-name">高等数学</span><span class="card-category-list-count">4</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="card-category-list-name">微信小程序</span><span class="card-category-list-count">8</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/"><span class="card-category-list-name">开发基础</span><span class="card-category-list-count">8</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="card-category-list-name">数据库</span><span class="card-category-list-count">23</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/SQL-%E5%85%A5%E9%97%A8/"><span class="card-category-list-name">SQL 入门</span><span class="card-category-list-count">19</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">数据结构与算法</span><span class="card-category-list-count">18</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/"><span class="card-category-list-name">算法拾遗</span><span class="card-category-list-count">12</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AE%97%E6%B3%95%E6%8B%BE%E9%81%97/%E6%90%9C%E7%B4%A2%E6%8A%80%E6%9C%AF/"><span class="card-category-list-name">搜索技术</span><span class="card-category-list-count">9</span></a></li></ul></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%96%B0%E6%8A%80%E8%83%BD-Got/"><span class="card-category-list-name">新技能 Got</span><span class="card-category-list-count">21</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/"><span class="card-category-list-name">树莓派</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/"><span class="card-category-list-name">运维</span><span class="card-category-list-count">5</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/CICD/"><span class="card-category-list-name">CICD</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/Docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%9A%8F%E7%AC%94%E4%B8%8E%E6%80%BB%E7%BB%93/"><span class="card-category-list-name">随笔与总结</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%9D%92%E8%AE%AD%E8%90%A5/"><span class="card-category-list-name">青训营</span><span class="card-category-list-count">43</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%9D%92%E8%AE%AD%E8%90%A5/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8-3rd-%E5%90%8E%E7%AB%AF/"><span class="card-category-list-name">字节跳动-3rd-后端</span><span class="card-category-list-count">23</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%9D%92%E8%AE%AD%E8%90%A5/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8-4th-%E5%A4%A7%E6%95%B0%E6%8D%AE/"><span class="card-category-list-name">字节跳动-4th-大数据</span><span class="card-category-list-count">20</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%9D%A2%E8%AF%95%E5%85%AB%E8%82%A1%E6%96%87/"><span class="card-category-list-name">面试八股文</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%A2%98%E8%A7%A3/"><span class="card-category-list-name">题解</span><span class="card-category-list-count">4</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/GORM/" style="font-size: 1.32em; color: rgb(106, 0, 86)">GORM</a><a href="/tags/Go/" style="font-size: 1.45em; color: rgb(100, 168, 188)">Go</a><a href="/tags/Gin/" style="font-size: 1.3em; color: rgb(93, 21, 108)">Gin</a><a href="/tags/%E5%BB%BA%E7%AB%99%E6%8A%80%E5%B7%A7/" style="font-size: 1.3em; color: rgb(112, 125, 51)">建站技巧</a><a href="/tags/Minecraft/" style="font-size: 1.17em; color: rgb(131, 165, 93)">Minecraft</a><a href="/tags/Python/" style="font-size: 1.35em; color: rgb(32, 135, 82)">Python</a><a href="/tags/MySQL/" style="font-size: 1.22em; color: rgb(28, 99, 60)">MySQL</a><a href="/tags/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" style="font-size: 1.2em; color: rgb(158, 140, 96)">环境配置</a><a href="/tags/SQL/" style="font-size: 1.38em; color: rgb(40, 153, 172)">SQL</a><a href="/tags/C-C/" style="font-size: 1.4em; color: rgb(62, 60, 145)">C/C++</a><a href="/tags/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/" style="font-size: 1.32em; color: rgb(21, 158, 21)">算法竞赛</a><a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.22em; color: rgb(62, 183, 18)">树莓派</a><a href="/tags/%E9%A2%98%E8%A7%A3/" style="font-size: 1.22em; color: rgb(142, 6, 81)">题解</a><a href="/tags/STL/" style="font-size: 1.17em; color: rgb(80, 151, 190)">STL</a><a href="/tags/GitHub-Actions/" style="font-size: 1.2em; color: rgb(69, 194, 110)">GitHub Actions</a><a href="/tags/CICD/" style="font-size: 1.2em; color: rgb(48, 4, 87)">CICD</a><a href="/tags/Webhook/" style="font-size: 1.15em; color: rgb(83, 90, 149)">Webhook</a><a href="/tags/Makefile/" style="font-size: 1.15em; color: rgb(29, 37, 64)">Makefile</a><a href="/tags/CMake/" style="font-size: 1.15em; color: rgb(128, 144, 19)">CMake</a><a href="/tags/Docker/" style="font-size: 1.17em; color: rgb(0, 151, 156)">Docker</a><a href="/tags/GitHub/" style="font-size: 1.15em; color: rgb(112, 111, 160)">GitHub</a><a href="/tags/go-zero/" style="font-size: 1.17em; color: rgb(68, 190, 19)">go-zero</a><a href="/tags/grpc/" style="font-size: 1.17em; color: rgb(157, 134, 194)">grpc</a><a href="/tags/Redis/" style="font-size: 1.17em; color: rgb(145, 86, 192)">Redis</a><a href="/tags/tus/" style="font-size: 1.15em; color: rgb(169, 49, 149)">tus</a><a href="/tags/Flamego/" style="font-size: 1.15em; color: rgb(65, 43, 120)">Flamego</a><a href="/tags/Linux/" style="font-size: 1.3em; color: rgb(122, 91, 57)">Linux</a><a href="/tags/JWT/" style="font-size: 1.15em; color: rgb(176, 157, 92)">JWT</a><a href="/tags/SSH/" style="font-size: 1.15em; color: rgb(81, 103, 150)">SSH</a><a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 1.15em; color: rgb(66, 12, 53)">运维</a><a href="/tags/Windows/" style="font-size: 1.17em; color: rgb(118, 154, 142)">Windows</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD/" style="font-size: 1.17em; color: rgb(14, 190, 93)">数据备份</a><a href="/tags/Others/" style="font-size: 1.2em; color: rgb(179, 73, 27)">Others</a><a href="/tags/%E5%AD%97%E8%8A%82%E9%9D%92%E8%AE%AD%E8%90%A5/" style="font-size: 1.42em; color: rgb(135, 35, 180)">字节青训营</a><a href="/tags/WSL/" style="font-size: 1.2em; color: rgb(114, 151, 179)">WSL</a><a href="/tags/Clash/" style="font-size: 1.15em; color: rgb(52, 13, 177)">Clash</a><a href="/tags/hduhelp/" style="font-size: 1.17em; color: rgb(86, 138, 137)">hduhelp</a><a href="/tags/Twikoo/" style="font-size: 1.15em; color: rgb(98, 18, 76)">Twikoo</a><a href="/tags/k8s/" style="font-size: 1.15em; color: rgb(70, 166, 113)">k8s</a><a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 1.27em; color: rgb(128, 19, 62)">随笔</a><a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size: 1.15em; color: rgb(87, 135, 180)">位运算</a><a href="/tags/BFS/" style="font-size: 1.22em; color: rgb(137, 86, 65)">BFS</a><a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size: 1.15em; color: rgb(16, 57, 109)">数学</a><a href="/tags/IDDFS/" style="font-size: 1.15em; color: rgb(99, 102, 85)">IDDFS</a><a href="/tags/DFS/" style="font-size: 1.15em; color: rgb(4, 53, 11)">DFS</a><a href="/tags/IDA/" style="font-size: 1.15em; color: rgb(81, 164, 41)">IDA*</a><a href="/tags/%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/" style="font-size: 1.15em; color: rgb(6, 38, 112)">排列组合</a><a href="/tags/%E8%88%9E%E8%B9%88%E9%93%BE-DLX/" style="font-size: 1.15em; color: rgb(5, 184, 110)">舞蹈链/DLX</a><a href="/tags/618%E5%A5%BD%E7%89%A9/" style="font-size: 1.15em; color: rgb(107, 55, 21)">618好物</a><a href="/tags/%E9%9D%A2%E8%AF%95%E5%B7%A5%E4%BD%9C/" style="font-size: 1.15em; color: rgb(8, 161, 2)">面试工作</a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.17em; color: rgb(157, 0, 84)">面试</a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 1.25em; color: rgb(124, 16, 13)">微信小程序</a><a href="/tags/ssh/" style="font-size: 1.15em; color: rgb(119, 119, 144)">ssh</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">17</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">16</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">六月 2022</span><span class="card-archive-list-count">28</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">40</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">252</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-11-12T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">222.6k</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-01-04T05:03:27.320Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: #0d0d0d"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Nick Xu</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["求知若饥&#44;虚心若愚","Stay hungry, stay foolish"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '求知若饥&#44;虚心若愚'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('/pluginsSrc/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.nickxu.top/',
        region: 'ap-shanghai',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 1/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('/pluginsSrc/twikoo/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script defer="defer" id="ribbon" src="/pluginsSrc/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>