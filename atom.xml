<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>NX の 博客</title>
  <icon>https://nickxu.me/static/favicon.jpg</icon>
  
  <link href="https://nickxu.me/atom.xml" rel="self"/>
  
  <link href="https://nickxu.me/"/>
  <updated>2023-10-30T02:15:52.929Z</updated>
  <id>https://nickxu.me/</id>
  
  <author>
    <name>Nick Xu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>『代码随想录』DAY6｜哈希表：242.有效的字母异位词 349.两个数组的交集</title>
    <link href="https://nickxu.me/post/programmercarl-day6.html"/>
    <id>https://nickxu.me/post/programmercarl-day6.html</id>
    <published>2023-10-30T01:39:58.000Z</published>
    <updated>2023-10-30T02:15:52.929Z</updated>
    
    <content type="html"><![CDATA[<h1 id="242-有效的字母异位词"><a href="https://leetcode.cn/problems/valid-anagram/">242.有效的字母异位词</a></h1><p>这题没什么好说的</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isAnagram</span><span class="params">(s <span class="type">string</span>, t <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">rune</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, c := <span class="keyword">range</span> s &#123;</span><br><span class="line">        m[c]++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, c := <span class="keyword">range</span> t &#123;</span><br><span class="line">        m[c]--</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> m &#123;</span><br><span class="line">        <span class="keyword">if</span> v != <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="349-两个数组的交集"><a href="https://leetcode.cn/problems/intersection-of-two-arrays/">349.两个数组的交集</a></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">intersection</span><span class="params">(nums1 []<span class="type">int</span>, nums2 []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">bool</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums1 &#123;</span><br><span class="line">        m[v] = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans := []<span class="type">int</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> nums2 &#123;</span><br><span class="line">        <span class="keyword">if</span> m[v] == <span class="literal">true</span> &#123;</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, v)</span><br><span class="line">            m[v] = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="202-快乐数"><a href="https://leetcode.cn/problems/happy-number/">202.快乐数</a></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">isHappy</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">bool</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n != <span class="number">1</span> &#123;</span><br><span class="line">        m[n] = <span class="literal">true</span></span><br><span class="line">        n = calc(n)</span><br><span class="line">        <span class="keyword">if</span> m[n] == <span class="literal">true</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    ans := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> n != <span class="number">0</span> &#123;</span><br><span class="line">        c := n % <span class="number">10</span></span><br><span class="line">        ans += c * c</span><br><span class="line">        n /= <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="1-两数之和"><a href="https://leetcode.cn/problems/two-sum/">1. 两数之和</a></h1><p>经典两数之和</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">twoSum</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        m[target-v] = idx</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx, v := <span class="keyword">range</span> nums &#123;</span><br><span class="line">        <span class="keyword">if</span> a, ok := m[v]; ok &#123;</span><br><span class="line">            <span class="keyword">return</span> []<span class="type">int</span>&#123;idx, a&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;242-有效的字母异位词&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/valid-anagram/&quot;&gt;242.有效的字母异位词&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;这题没什么好说的&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>『代码随想录』DAY4｜链表：19.删除链表的倒数第N个节点 142.环形链表II</title>
    <link href="https://nickxu.me/post/programmercarl-day4.html"/>
    <id>https://nickxu.me/post/programmercarl-day4.html</id>
    <published>2023-10-28T09:49:35.000Z</published>
    <updated>2023-10-28T12:04:07.994Z</updated>
    
    <content type="html"><![CDATA[<p>本篇部分题目在 <a href="https://nickxu.me/posts/275">『算法拾遗』链表（Linked List）</a> 中已经做过</p><hr><h1 id="24-两两交换链表中的节点"><a href="https://leetcode.cn/problems/swap-nodes-in-pairs/">24.两两交换链表中的节点</a></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapPairs</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    dummy:=&amp;ListNode&#123;</span><br><span class="line">        Next: head,</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    curr := dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> curr!=<span class="literal">nil</span> &amp;&amp; curr.Next!=<span class="literal">nil</span> &amp;&amp; curr.Next.Next != <span class="literal">nil</span>&#123;</span><br><span class="line">        first:=curr.Next</span><br><span class="line">        second:=curr.Next.Next</span><br><span class="line"></span><br><span class="line">        first.Next=second.Next</span><br><span class="line">        second.Next=first</span><br><span class="line">        curr.Next=second</span><br><span class="line"></span><br><span class="line">        curr=curr.Next.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="19-删除链表的倒数第-N-个结点"><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">19. 删除链表的倒数第 N 个结点</a></h1><p>经典快慢指针</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeNthFromEnd</span><span class="params">(head *ListNode, n <span class="type">int</span>)</span></span> *ListNode &#123;</span><br><span class="line">    dummy := &amp;ListNode&#123;</span><br><span class="line">        Next: head,</span><br><span class="line">    &#125;</span><br><span class="line">    fast, slow := dummy, dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt; n; i++ &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> fast.Next.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">        slow = slow.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    slow.Next = slow.Next.Next</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="面试题02-07-链表相交"><a href="https://leetcode.cn/problems/intersection-of-two-linked-lists-lcci/">面试题02.07.链表相交</a></h1><p>双指针，先对齐再往后走</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getIntersectionNode</span><span class="params">(headA, headB *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    lenA, lenB := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> curr := headA; curr != <span class="literal">nil</span>; curr = curr.Next &#123;</span><br><span class="line">        lenA++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> curr := headB; curr != <span class="literal">nil</span>; curr = curr.Next &#123;</span><br><span class="line">        lenB++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> lenA &lt; lenB &#123;</span><br><span class="line">        headA, headB = headB, headA</span><br><span class="line">        lenA, lenB = lenB, lenA</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    diff := lenA - lenB</span><br><span class="line"></span><br><span class="line">    a, b := headA, headB</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; diff; i++ &#123;</span><br><span class="line">        a = a.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> a != <span class="literal">nil</span> &amp;&amp; b != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> a == b &#123;</span><br><span class="line">            <span class="keyword">return</span> a</span><br><span class="line">        &#125;</span><br><span class="line">        a = a.Next</span><br><span class="line">        b = b.Next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="142-环形链表-II"><a href="https://leetcode.cn/problems/linked-list-cycle-ii/">142.环形链表 II</a></h1><p>快慢指针找环，然后让其中一个回到原点，再同步前进</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">detectCycle</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line">    dummy := &amp;ListNode&#123;</span><br><span class="line">        Next: head,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fast, slow := dummy, dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> fast != <span class="literal">nil</span> &amp;&amp; fast.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">        fast = fast.Next.Next</span><br><span class="line">        slow = slow.Next</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> fast == slow &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> fast == <span class="literal">nil</span> || fast.Next == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fast = dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> fast != slow &#123;</span><br><span class="line">        fast = fast.Next</span><br><span class="line">        slow = slow.Next</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> fast</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本篇部分题目在 &lt;a href=&quot;https://nickxu.me/posts/275&quot;&gt;『算法拾遗』链表（Linked List）&lt;/a&gt; 中已经做过&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;24-两两交换链表中的节点&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/swap-nodes-in-pairs/&quot;&gt;24.两两交换链表中的节点&lt;/a&gt;&lt;/h1&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>『代码随想录』DAY3｜链表：203.移除链表元素 707.设计链表 206.反转链表</title>
    <link href="https://nickxu.me/post/programmercarl-day3.html"/>
    <id>https://nickxu.me/post/programmercarl-day3.html</id>
    <published>2023-10-27T03:42:16.000Z</published>
    <updated>2023-10-27T04:45:18.359Z</updated>
    
    <content type="html"><![CDATA[<p>本篇部分题目在 <a href="https://nickxu.me/posts/275">『算法拾遗』链表（Linked List）</a> 中已经做过</p><hr><h1 id="203-移除链表元素"><a href="https://leetcode.cn/problems/remove-linked-list-elements/">203.移除链表元素</a></h1><p>还有一个递归版，但是那个空间复杂度是 <code>O(n)</code></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeElements</span><span class="params">(head *ListNode, val <span class="type">int</span>)</span></span> *ListNode &#123;</span><br><span class="line">    dummy := &amp;ListNode&#123;Next: head&#125;</span><br><span class="line">    curr := dummy</span><br><span class="line">    <span class="keyword">for</span> curr.Next != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> curr.Next.Val == val &#123;</span><br><span class="line">            curr.Next = curr.Next.Next</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curr = curr.Next</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> dummy.Next</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="707-设计链表"><a href="https://leetcode.cn/problems/design-linked-list/">707.设计链表</a></h1><p>分别写了单向链表和双向链表两个版本</p><div class="tabs" id="样例"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#样例-1">单向链表</button></li><li class="tab"><button type="button" data-href="#样例-2">双向链表</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="样例-1"><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MyLinkedList <span class="keyword">struct</span> &#123;</span><br><span class="line">    head *LinkNode</span><br><span class="line">    size <span class="type">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> LinkNode <span class="keyword">struct</span> &#123;</span><br><span class="line">    val  <span class="type">int</span></span><br><span class="line">    next *LinkNode</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span></span> MyLinkedList &#123;</span><br><span class="line">    dummyHead := &amp;LinkNode&#123;&#125;</span><br><span class="line">    <span class="keyword">return</span> MyLinkedList&#123;</span><br><span class="line">        head: dummyHead,</span><br><span class="line">        size: <span class="number">0</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> Get(index <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    cur := this.head.next</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">        cur = cur.next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur.val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtHead(val <span class="type">int</span>) &#123;</span><br><span class="line">    newNode := &amp;LinkNode&#123;val: val&#125;</span><br><span class="line">    newNode.next = this.head.next</span><br><span class="line">    this.head.next = newNode</span><br><span class="line">    this.size++</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtTail(val <span class="type">int</span>) &#123;</span><br><span class="line">    newNode := &amp;LinkNode&#123;val: val&#125;</span><br><span class="line">    cur := this.head</span><br><span class="line">    <span class="keyword">for</span> cur.next != <span class="literal">nil</span> &#123;</span><br><span class="line">        cur = cur.next</span><br><span class="line">    &#125;</span><br><span class="line">    cur.next = newNode</span><br><span class="line">    this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtIndex(index <span class="type">int</span>, val <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt; this.size &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> index == this.size &#123;</span><br><span class="line">        this.AddAtTail(val)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    cur := this.head</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">        cur = cur.next</span><br><span class="line">    &#125;</span><br><span class="line">    newNode := &amp;LinkNode&#123;val: val&#125;</span><br><span class="line">    newNode.next = cur.next</span><br><span class="line">    cur.next = newNode</span><br><span class="line">    this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> DeleteAtIndex(index <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    cur := this.head</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">        cur = cur.next</span><br><span class="line">    &#125;</span><br><span class="line">    cur.next = cur.next.next</span><br><span class="line">    this.size--</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="样例-2"><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MyLinkedList <span class="keyword">struct</span> &#123;</span><br><span class="line">    size <span class="type">int</span></span><br><span class="line">    head *Node</span><br><span class="line">    tail *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">    val        <span class="type">int</span></span><br><span class="line">    next, prev *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">()</span></span> MyLinkedList &#123;</span><br><span class="line">    dummy := &amp;Node&#123;&#125;</span><br><span class="line">    dummy.next = dummy</span><br><span class="line">    dummy.prev = dummy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> MyLinkedList&#123;</span><br><span class="line">        size: <span class="number">0</span>,</span><br><span class="line">        head: dummy,</span><br><span class="line">        tail: dummy,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> Get(index <span class="type">int</span>) <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    curr := this.head.next</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; index; i++ &#123;</span><br><span class="line">        curr = curr.next</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> curr.val</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtHead(val <span class="type">int</span>) &#123;</span><br><span class="line">    newNode := &amp;Node&#123;</span><br><span class="line">        val:  val,</span><br><span class="line">        next: this.head.next,</span><br><span class="line">        prev: this.head,</span><br><span class="line">    &#125;</span><br><span class="line">    this.head.next.prev = newNode</span><br><span class="line">    this.head.next = newNode</span><br><span class="line">    this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtTail(val <span class="type">int</span>) &#123;</span><br><span class="line">    newNode := &amp;Node&#123;</span><br><span class="line">        val:  val,</span><br><span class="line">        next: this.tail,</span><br><span class="line">        prev: this.tail.prev,</span><br><span class="line">    &#125;</span><br><span class="line">    this.tail.prev.next = newNode</span><br><span class="line">    this.tail.prev = newNode</span><br><span class="line">    this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> AddAtIndex(index <span class="type">int</span>, val <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt; this.size &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    curr := this.head.next</span><br><span class="line">    <span class="keyword">for</span> index != <span class="number">0</span> &#123;</span><br><span class="line">        curr = curr.next</span><br><span class="line">        index--</span><br><span class="line">    &#125;</span><br><span class="line">    newNode := &amp;Node&#123;</span><br><span class="line">        val:  val,</span><br><span class="line">        prev: curr.prev,</span><br><span class="line">        next: curr,</span><br><span class="line">    &#125;</span><br><span class="line">    curr.prev.next = newNode</span><br><span class="line">    curr.prev = newNode</span><br><span class="line">    this.size++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this *MyLinkedList)</span></span> DeleteAtIndex(index <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="number">0</span> || index &gt;= this.size &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    curr := this.head.next</span><br><span class="line">    <span class="keyword">for</span> index != <span class="number">0</span> &#123;</span><br><span class="line">        curr = curr.next</span><br><span class="line">        index--</span><br><span class="line">    &#125;</span><br><span class="line">    curr.next.prev = curr.prev</span><br><span class="line">    curr.prev.next = curr.next</span><br><span class="line">    this.size--</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="206-反转链表"><a href="https://leetcode.cn/problems/reverse-linked-list/">206.反转链表</a></h1><p>经典反转链表，操作过程如下</p><ol start="0"><li>初始化当前节点为头节点</li><li>暂存下一个节点</li><li>将当前节点指向前一个节点</li><li>前驱节点后移</li><li>当前节点后移</li><li>重复 1-4，只到当前节点为 <code>NULL</code> ，输出前驱结点为新的头结点</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// 定义前驱节点、当前节点、后继节点</span></span><br><span class="line"><span class="keyword">var</span> prev *ListNode = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> next *ListNode = <span class="literal">nil</span></span><br><span class="line"><span class="keyword">var</span> curr *ListNode = head</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历链表</span></span><br><span class="line"><span class="keyword">for</span> curr != <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="comment">// 保存下一个节点</span></span><br><span class="line">next = curr.Next</span><br><span class="line"><span class="comment">// 当前节点指向前驱节点</span></span><br><span class="line">curr.Next = prev</span><br><span class="line"><span class="comment">// 前驱节点后移</span></span><br><span class="line">prev = curr</span><br><span class="line"><span class="comment">// 当前节点后移</span></span><br><span class="line">curr = next</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回前驱节点</span></span><br><span class="line"><span class="keyword">return</span> prev</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我一开始也不是很懂，所以我画了个图一步一步来，图画出来我就懂了</p><p><img src="https://image.nickxu.me/202306021637081.png" alt="image-20230601下午103709377"></p><p>类似地，还有一个递归的写法</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseList</span><span class="params">(head *ListNode)</span></span> *ListNode &#123;</span><br><span class="line"><span class="comment">// 如果链表为空或者只有一个节点，直接返回原链表</span></span><br><span class="line"><span class="keyword">if</span> head == <span class="literal">nil</span> || head.Next == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span> head</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 递归反转除头节点外的子链表</span></span><br><span class="line">p := reverseList(head.Next)</span><br><span class="line"><span class="comment">// 将当前节点的下一个节点指向当前节点，实现反转</span></span><br><span class="line">head.Next.Next = head</span><br><span class="line"><span class="comment">// 将当前节点的下一个节点置空，断开原链表中的连接</span></span><br><span class="line">head.Next = <span class="literal">nil</span></span><br><span class="line"><span class="comment">// 返回反转后的链表的头节点</span></span><br><span class="line"><span class="keyword">return</span> p</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本篇部分题目在 &lt;a href=&quot;https://nickxu.me/posts/275&quot;&gt;『算法拾遗』链表（Linked List）&lt;/a&gt; 中已经做过&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;203-移除链表元素&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/remove-linked-list-elements/&quot;&gt;203.移除链表元素&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;还有一个递归版，但是那个空间复杂度是 &lt;code&gt;O(n)&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span cl</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>『代码随想录』DAY2｜数组：977.有序数组的平方 209.长度最小的子数组 59.螺旋矩阵II</title>
    <link href="https://nickxu.me/post/programmercarl-day2.html"/>
    <id>https://nickxu.me/post/programmercarl-day2.html</id>
    <published>2023-10-26T04:34:40.000Z</published>
    <updated>2023-10-26T09:21:01.507Z</updated>
    
    <content type="html"><![CDATA[<p>本篇内容包含数组的另外两类经典题目：</p><ol><li>滑动窗口</li><li>模拟</li></ol><p>同时复习一下双指针</p><hr><h1 id="977-有序数组的平方"><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/">977.有序数组的平方</a></h1><details class="toggle" ><summary class="toggle-button" style="">相关链接</summary><div class="toggle-content"><ul><li><a href="https://programmercarl.com/0977.%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.html">代码随想录</a></li><li><a href="https://www.bilibili.com/video/BV1QB4y1D7ep">视频讲解</a></li></ul></div></details><p>想多了，居然想从中间入手往两边扫</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sortedSquares</span><span class="params">(nums []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[i] &lt; <span class="number">0</span> &#123;</span><br><span class="line">            nums[i] = -nums[i]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    idx := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> idx+<span class="number">1</span> &lt; n &amp;&amp; nums[idx+<span class="number">1</span>] &lt;= nums[idx] &#123;</span><br><span class="line">        idx++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    left, right := idx<span class="number">-1</span>, idx+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    ans := []<span class="type">int</span>&#123;nums[idx] * nums[idx]&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &gt;= <span class="number">0</span> || right &lt; n &#123;</span><br><span class="line">        <span class="keyword">for</span> left &gt;= <span class="number">0</span> &amp;&amp; (right &gt;= n || nums[left] &lt;= nums[right]) &#123;</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, nums[left]*nums[left])</span><br><span class="line">            left--</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> right &lt; n &amp;&amp; (left &lt; <span class="number">0</span> || nums[right] &lt;= nums[left]) &#123;</span><br><span class="line">            ans = <span class="built_in">append</span>(ans, nums[right]*nums[right])</span><br><span class="line">            right++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看了题解之后发现直接从两边向中间就行</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sortedSquares</span><span class="params">(nums []<span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    ans := <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    idx := n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> left != right &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[left]*nums[left] &gt;= nums[right]*nums[right] &#123;</span><br><span class="line">            ans[idx] = nums[left] * nums[left]</span><br><span class="line">            idx--</span><br><span class="line">            left++</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ans[idx] = nums[right] * nums[right]</span><br><span class="line">            idx--</span><br><span class="line">            right--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ans[idx] = nums[left] * nums[left]</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="209-长度最小的子数组"><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/">209.长度最小的子数组</a></h1><details class="toggle" ><summary class="toggle-button" style="">相关链接</summary><div class="toggle-content"><ul><li><a href="https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html#_704-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE">代码随想录</a></li><li><a href="https://www.bilibili.com/video/BV1tZ4y1q7XE">视频讲解</a></li></ul></div></details><p>经典滑动窗口</p><p><code>for</code> 外层是窗口的右边界，如果满足条件则记录并尝试移动左边界</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">minSubArrayLen</span><span class="params">(target <span class="type">int</span>, nums []<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line"></span><br><span class="line">    ans := math.MaxInt</span><br><span class="line">    sum := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left, right := <span class="number">0</span>, <span class="number">0</span>; right &lt; n; right++ &#123;</span><br><span class="line">        sum += nums[right]</span><br><span class="line">        <span class="keyword">for</span> sum &gt;= target &#123;</span><br><span class="line">            ans = min(ans, right-left+<span class="number">1</span>)</span><br><span class="line">            sum -= nums[left]</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ans == math.MaxInt &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">min</span><span class="params">(i, j <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i &lt; j &#123;</span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> j</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="59-螺旋矩阵-II"><a href="https://leetcode.cn/problems/spiral-matrix-ii/">59.螺旋矩阵 II</a></h1><details class="toggle" ><summary class="toggle-button" style="">相关链接</summary><div class="toggle-content"><ul><li><a href="https://programmercarl.com/0059.%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II.html">代码随想录</a></li><li><a href="https://www.bilibili.com/video/BV1SL4y1N7mV/?vd_source=e2613baf768b2432fcb2b9edd79c0c68">视频讲解</a></li></ul></div></details><p><s>自己写的，感觉纯脑筋急转弯</s></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generateMatrix</span><span class="params">(n <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    ans := <span class="built_in">make</span>([][]<span class="type">int</span>, n)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">        ans[i] = <span class="built_in">make</span>([]<span class="type">int</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    x, y := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    curr := <span class="number">1</span></span><br><span class="line">    <span class="built_in">len</span> := n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>; i++ &#123;</span><br><span class="line">            ans[x][y] = curr</span><br><span class="line">            y++</span><br><span class="line">            curr++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">len</span>--</span><br><span class="line">        y--</span><br><span class="line">        x++</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>; i++ &#123;</span><br><span class="line">            ans[x][y] = curr</span><br><span class="line">            x++</span><br><span class="line">            curr++</span><br><span class="line">        &#125;</span><br><span class="line">        y--</span><br><span class="line">        x--</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>; i++ &#123;</span><br><span class="line">            ans[x][y] = curr</span><br><span class="line">            y--</span><br><span class="line">            curr++</span><br><span class="line">        &#125;</span><br><span class="line">        y++</span><br><span class="line">        x--</span><br><span class="line">        <span class="built_in">len</span>--</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>; i++ &#123;</span><br><span class="line">            ans[x][y] = curr</span><br><span class="line">            x--</span><br><span class="line">            curr++</span><br><span class="line">        &#125;</span><br><span class="line">        y++</span><br><span class="line">        x++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本篇内容包含数组的另外两类经典题目：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;滑动窗口&lt;/li&gt;
&lt;li&gt;模拟&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;同时复习一下双指针&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;977-有序数组的平方&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/squares-of-a-sorted-array/&quot;&gt;977.有序数组的平方&lt;/a&gt;&lt;/h1&gt;
&lt;details class=&quot;toggle&quot; &gt;&lt;summary class=&quot;toggle-button&quot; style=&quot;&quot;&gt;相关链接&lt;/summary&gt;&lt;div class=&quot;toggle-content&quot;&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://programmercarl.com/0977.%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9.html&quot;&gt;代码随想录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1QB4y1D7ep&quot;&gt;视频讲解&lt;/a</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>『代码随想录』DAY1｜数组：704.二分查找 27.移除元素</title>
    <link href="https://nickxu.me/post/programmercarl-day1.html"/>
    <id>https://nickxu.me/post/programmercarl-day1.html</id>
    <published>2023-10-25T15:35:00.000Z</published>
    <updated>2023-10-26T04:47:50.274Z</updated>
    
    <content type="html"><![CDATA[<p>本篇内容包含数组的两类经典题目：</p><ol><li>二分查找</li><li>双指针</li></ol><hr><h1 id="704-二分查找"><a href="https://leetcode.cn/problems/binary-search/">704.二分查找</a></h1><details class="toggle" ><summary class="toggle-button" style="">相关链接</summary><div class="toggle-content"><ul><li><a href="https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html#_704-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE">代码随想录</a></li><li><a href="https://www.bilibili.com/video/BV1fA4y1o715/?vd_source=e2613baf768b2432fcb2b9edd79c0c68">视频讲解</a></li></ul></div></details><h2 id="边界条件注意">边界条件注意</h2><p>Carl 哥的视频讲的很清楚，墙裂建议观看</p><p>主流的就是两种写法，左闭右闭和左闭右开，如果你选择了一种写法，就应该全程保持这一种写法</p><ul><li><p>左闭右闭</p><p>起始区间为 <code>[0,n - 1]</code> ，继续循环的条件是区间合法，也就是 <code>left &lt;= right</code></p><p>更新左右边界值时，由于 <code>mid</code> 已经被排除，所以更新为 <code>mid + 1</code> 与 <code>mid - 1</code></p></li><li><p>左闭右开</p><p>起始区间为 <code>[0,n]</code> ，因为 <code>[1,1)</code> 不是一个合法的区间（左右不能相等），所以 <code>left &lt; right</code></p><p>更新左右边界值时，因为左闭所以 <code>mid + 1</code> ，而右开所以 <code>mid</code> （已经排除了但是右边界是开的）</p></li></ul><h2 id="整数溢出问题">整数溢出问题</h2><p>计算 <code>mid</code> 通常使用 <code>(left + right) / 2</code></p><p>但是如果 <code>left</code> 和 <code>right</code> 很大，就可能溢出，可以使用 <code>left + (right - left) / 2</code></p><div class="tabs" id="样例"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#样例-1">左闭右闭区间</button></li><li class="tab"><button type="button" data-href="#样例-2">左边右开区间</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="样例-1"><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">search</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span> <span class="comment">// 左闭右闭</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123; <span class="comment">// [1,1] 可以是一个合理区间，所以要有等号</span></span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt; target &#123;</span><br><span class="line">            right = mid - <span class="number">1</span> <span class="comment">// 这里要减一，区间是左闭右闭，不应该再包括 mid</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[mid] &lt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span> <span class="comment">// 这里要加一，区间是左闭右闭，不应该再包括 mid</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="样例-2"><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">search</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n <span class="comment">// 左闭右开</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> left &lt; right &#123; <span class="comment">// [1,1) 不是一个合理区间，所以不能有等号</span></span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt; target &#123;</span><br><span class="line">            right = mid <span class="comment">// 右开</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[mid] &lt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span> <span class="comment">// 左闭</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><hr><h1 id="27-移除元素"><a href="https://leetcode.cn/problems/remove-element/">27.移除元素</a></h1><details class="toggle" ><summary class="toggle-button" style="">相关链接</summary><div class="toggle-content"><ul><li><a href="https://programmercarl.com/0027.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0.html">代码随想录</a></li><li><a href="https://www.bilibili.com/video/BV12A4y1Z7LP/">视频讲解</a></li></ul></div></details><p>经典双指针</p> <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">removeElement</span><span class="params">(nums []<span class="type">int</span>, val <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> right &lt; n &#123;</span><br><span class="line">        <span class="keyword">if</span> nums[right] != val &#123;</span><br><span class="line">            nums[left] = nums[right]</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">        right++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h1 id="34-在排序数组中查找元素的第一个和最后一个位置"><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/">34.在排序数组中查找元素的第一个和最后一个位置</a></h1><p>解法很多，我选择分别查找第一个和最后一个位置</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">searchRange</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> []<span class="type">int</span>&#123;findFirst(nums, target), findLast(nums, target)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findFirst</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    <span class="keyword">if</span> nums[left] == target &#123;</span><br><span class="line">        <span class="keyword">return</span> left</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &lt; target &amp;&amp; mid+<span class="number">1</span> &lt; n &amp;&amp; nums[mid+<span class="number">1</span>] == target &#123;</span><br><span class="line">            <span class="keyword">return</span> mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt;= target &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findLast</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    <span class="keyword">if</span> nums[right] == target &#123;</span><br><span class="line">        <span class="keyword">return</span> right</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt; target &amp;&amp; mid<span class="number">-1</span> &gt;= <span class="number">0</span> &amp;&amp; nums[mid<span class="number">-1</span>] == target &#123;</span><br><span class="line">            <span class="keyword">return</span> mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &lt;= target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看了眼题解，发现另一种写法</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">searchRange</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> []<span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="type">int</span>&#123;<span class="number">-1</span>, <span class="number">-1</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> []<span class="type">int</span>&#123;findFirst(nums, target), findLast(nums, target)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findFirst</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    ans := <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt; target &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[mid] &lt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">            ans = mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findLast</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line">    ans := <span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &lt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[mid] &gt; target &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">            ans = mid</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h1 id="35-搜索插入位置"><a href="https://leetcode.cn/problems/search-insert-position/">35.搜索插入位置</a></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">searchInsert</span><span class="params">(nums []<span class="type">int</span>, target <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    n := <span class="built_in">len</span>(nums)</span><br><span class="line">    left, right := <span class="number">0</span>, n<span class="number">-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> left &lt;= right &#123;</span><br><span class="line">        mid := (left + right) / <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> nums[mid] &gt; target &#123;</span><br><span class="line">            right = mid - <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> nums[mid] &lt; target &#123;</span><br><span class="line">            left = mid + <span class="number">1</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> left</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本篇内容包含数组的两类经典题目：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;二分查找&lt;/li&gt;
&lt;li&gt;双指针&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&quot;704-二分查找&quot;&gt;&lt;a href=&quot;https://leetcode.cn/problems/binary-search/&quot;&gt;704.二分查找&lt;/a&gt;&lt;/h1&gt;
&lt;details class=&quot;toggle&quot; &gt;&lt;summary class=&quot;toggle-button&quot; style=&quot;&quot;&gt;相关链接&lt;/summary&gt;&lt;div class=&quot;toggle-content&quot;&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://programmercarl.com/0704.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE.html#_704-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE&quot;&gt;代码随想录&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/video/BV1fA4y1o715/?vd_source=e2613baf768b2432fc</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>『OSPP2023』我与 OSPP 的故事 —— 项目经验分享</title>
    <link href="https://nickxu.me/post/my-story-with-OSPP-project-experience-sharing.html"/>
    <id>https://nickxu.me/post/my-story-with-OSPP-project-experience-sharing.html</id>
    <published>2023-10-15T12:58:06.000Z</published>
    <updated>2023-10-17T14:46:20.368Z</updated>
    
    <content type="html"><![CDATA[<p>书接上文 <a href="https://nickxu.me/2023/06/my-story-with-OSPP-from-hearing-to-being-selected.html">『OSPP2023』我与 OSPP 的故事 —— 从听闻到中选</a> ，本文注重于描写项目开发的经历</p><hr><h1 id="项目基本信息">项目基本信息</h1><ul><li><p>项目名称：为 Envoy Go 扩展建设插件市场</p></li><li><p>项目导师：纪卓志</p></li><li><p>项目描述：</p><p>Envoy 是当前最流行的网络代理之一，Go 扩展是 MOSN 社区为 Envoy 增加的 Go 生态基础，也是 MOSN 社区 MoE 框架的基础。</p><p>受益于Golang生态系统，研发可以轻松在 Envoy 实现插件用于更多的长尾场景，其中很多场景都是通用的。</p><p>本项目是为Envoy Go 扩展构建插件市场。在插件市场中，人们可以在插件市场中分享插件，选用已经存在的插件。通过插件市场，可以让 Envoy、MoE 生态变得更加开放、共享、丰富。</p></li><li><p>项目链接：</p><p><a href="https://summer-ospp.ac.cn/org/prodetail/23f080259?lang=zh&amp;list=pro">https://summer-ospp.ac.cn/org/prodetail/23f080259?lang=zh&amp;list=pro</a></p></li></ul><h1 id="项目迭代经历">项目迭代经历</h1><p>首先我想说这个项目的架构设计经历了多次变动，发现最后做出来的和最开始想的根本不是一个东西（笑）</p><p>一开始 OSPP 上简短的描述并不能让我了解太多，于是我开始翻 MOSN 的文档，并且和导师在 <a href="https://github.com/mosn/envoy-golang-filter-hub/issues/1">Issue</a> 下交流更为详细的需求</p><p>需要实现的是一个插件市场，也就是类似于 <a href="https://marketplace.visualstudio.com/vscode">VSCode Marketplace</a> 或者 <a href="https://github.com/marketplace?type=actions">GitHub Marketplace</a> 的效果，含插件提交、审核、版本管理和二进制构建分发等</p><p><img src="https://image.nickxu.me/202310171527416.png" alt="image-20231017下午32737287"></p><p>我的构想是分为三个部分，GitHub、后端本体还有镜像仓库</p><p>开发者在自己的仓库里开发，如果要上架的话需要移交仓库权限到官方组织里，发布新版本就正常 Release，可以通过 GitHub Actions 通知后端或者由后端来轮询同步</p><p>后端同步仓库情况，维护插件列表与各自的历史版本，同时对每个版本都编译并推送镜像</p><p><img src="https://image.nickxu.me/202310171109975.png" alt="v1.全局设计"></p><p>而对于后端内部，我当初打算搓一套微服务，还画了微服务拆分与架构图（</p><p><img src="https://image.nickxu.me/202310171200663.png" alt="v1.微服务拆分"></p><p><img src="https://image.nickxu.me/202310171109179.png" alt="v1.后端架构"></p><p>然而项目的难点实际上不在于要用什么什么复杂的技术，而在于整体的面向用户的设计，能有一套实际落地可执行的方案</p><p><img src="https://image.nickxu.me/202310172246309.png" alt="image-20231017下午104608175"></p><blockquote><p>感谢导师及时为我指明方向 ❤️</p></blockquote><p>我觉得导师说的的确很有道理，需要交付 MVP 最小价值产品，它指的是产品在满足基本功能需求的前提下，具有的最小的功能集合</p><p>于是，后端肯定是一个简单单体了，并且仓库变成了各自独立开发，目前主要的工作放在细化整个链路上的各个环节</p><p>OK，我们的目标是搭建一个插件市场，插件本体作为 Docker Image 的形式分发，为了达到这个目标，我们需要解决几个子问题</p><ul><li>提交流程该如何设计<ul><li>上架一个插件，用户需要提交哪些内容？</li></ul></li><li>审核流程该如何设计<ul><li>哪些行为需要审核？</li><li>如何审核，自建审核系统，还是依托其他服务？</li></ul></li><li>如何进行版本管理<ul><li>如何上架新版本</li><li>如何下架一个版本</li></ul></li><li>元信息（名称描述分类等）如何存储<ul><li>是全部都存在插件本体中，然后平台后端全量缓存</li><li>还是一部分打包在插件中，另一部分单独在后端保存</li></ul></li><li>插件本体（Docker镜像）该如何构建，存储与分发<ul><li>是我们负责构建存储分发一条龙</li><li>还是交给用户存储在第三方（如 Docker Hub），我们只保存地址？</li></ul></li></ul><p>自己摸索无异于闭门造车，我认为可以参考一下其他平台的做法</p><p>因此，我研究了 8 个类似的或者可以提高参考价值的平台，观察他们是如何解决这些问题的，总结为下表：</p><table><thead><tr><th>平台/市场</th><th>提交流程</th><th>审核机制</th><th>版本管理</th><th>验证官方发布</th><th>元信息保存</th><th>官方文档</th></tr></thead><tbody><tr><td><a href="https://marketplace.visualstudio.com/vscode">Visual Studio Code Marketplace</a></td><td>1. 将插件打包为 <code>.vsix</code> 文件<br>2. 在 <a href="https://azure.microsoft.com/services/devops/">Azure DevOps</a> 使用Microsoft 帐户创建账号并获取 Token<br />3. 使用同一Microsoft 帐户在 <a href="https://marketplace.visualstudio.com/manage">Visual Studio Marketplace</a> 创建发布者 <br />4. 使用 <code>vsce login</code> 与  <code>vsce publish</code> 命令发布插件</td><td>在 Visual Studio Marketplace 上由 Marketplace 团队进行审核</td><td>1. 更新 <code>package.json</code> 的版本号<br>2. 使用 <code>vsce publish</code> 发布新版本<br />3. 无法直接删除特定版本，需要联系官方支持团队进行处理</td><td><a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#verify-a-publisher">通过验证是否持有该公司/组织的域名</a></td><td>保存在项目的 <code>package.json</code> 中<br />包含唯一标识、名称、描述、版本号、发布者名称、兼容的 VSC 版本、分类、关键词等</td><td><a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension">Publishing Extensions | Visual Studio Code Extension API</a></td></tr><tr><td><a href="https://plugins.jetbrains.com/">JetBrains Plugin Repository</a></td><td>1. 在官网上创建账号<br>2. 在创建插件页面上传插件 JAR/ZIP 文件并发布</td><td>由 JetBrains 团队进行审核</td><td>1. 上传新的插件文件<br>2. 在“Versions”选项卡中删除旧版本</td><td>暂无明确的官方验证机制</td><td>大部分保存在项目的 <code>plugin.xml</code> 中，但分类是在发布的页面手动指定</td><td><a href="https://plugins.jetbrains.com/docs/marketplace/uploading-a-new-plugin.html">Uploading a new plugin | JetBrains Marketplace Documentation</a></td></tr><tr><td><a href="https://github.com/marketplace?type=actions">GitHub Actions</a></td><td>1. 在 GitHub 仓库中完成开发，并编写 <code>action.yml</code><br />2. 创建一个 release ，勾上发布到市场，同时填写分类等信息</td><td>无审核机制，发布后即可使用</td><td>1. 创建新的 release， 并勾上发布到市场<br />2. 如要删除发布，取消勾选并保存即可</td><td>仓库属于哪个组织，就是由哪个组织发布的</td><td>大部分保存在项目的 <code>action.yml</code> 中，但分类是在发布的页面手动指定</td><td><a href="https://docs.github.com/zh/actions/creating-actions/publishing-actions-in-github-marketplace">在 GitHub Marketplace 中发布操作 - GitHub 文档</a></td></tr><tr><td><a href="https://chrome.google.com/webstore/category/extensions">Chrome Web Store</a></td><td>1. 在 Chrome 开发者仪表盘创建新项目<br>2. 上传 <code>.zip</code> 文件包含扩展的所有代码<br>3. 填写项目详情，如名称、描述、图标、预览图等<br>4. 提交审核并支付开发者注册费用</td><td>由 Google 团队进行人工审核，内容涵盖性能、安全、隐私等方面</td><td>1. 在开发者仪表盘提交新的 <code>.zip</code> 文件<br>2. 旧版本不会被自动删除，用户可以在商店中查看所有版本</td><td>通过 Google 账户验证</td><td>一部分保存在项目的 <code>manifest.json</code> 中，如名称、版本号、描述等<br />其余信息如图标、预览图、详细描述在开发者仪表盘填写</td><td><a href="https://support.google.com/chrome/a/answer/2714278?hl=zh-Hans">创建和发布自定义 Chrome 应用和扩展程序 - Chrome Enterprise and Education帮助</a></td></tr><tr><td><a href="https://www.apple.com/app-store/">Apple App Store</a></td><td>1. 注册成为 Apple 开发者并支付年费<br>2. 使用 Xcode 开发应用并配置相关信息<br>3. 在 App Store Connect 上创建应用并上传<br>4. 提交审核请求</td><td>由 Apple 团队进行严格审核，包括功能、安全性、隐私、设计等方面</td><td>1. 在 Xcode 中更新版本号和构建号<br>2. 在 App Store Connect 上上传新版本并提交审核<br>3. 旧版本自动下架</td><td>通过 Apple Developer Program 验证身份</td><td>最基础的部分保存在项目的  <code>Info.plist</code> 中，如版本号，构建号，唯一标识，设备上显示的名称<br />另一部分是在 App Store Connect 上，包括在App Store上的应用名称、描述、版本号、类别、预览截图等</td><td><a href="https://developer.apple.com/cn/ios/submit/">将 iOS App 提交至 App Store - Apple Developer</a></td></tr><tr><td><a href="https://cn.wordpress.org/plugins/">WordPress Plugin Repository</a></td><td>1. 在官网上注册账号<br>2. 在 SVN 仓库中添加插件代码<br>3. 使用 Readme Validator 验证 <code>readme.txt</code><br>4. 在官网上提交插件并等待审核</td><td>由 WordPress 团队进行审核，主要关注插件的功能和安全性</td><td>1. 在 SVN 仓库中更新插件和 <code>readme.txt</code> 的版本号<br>2. 在官网上标记新版本的发布<br>3. 旧版本仍然可用</td><td>没有明确的官方验证机制</td><td>保存在项目的 <code>readme.txt</code> 中，包括名称、描述、版本号、作者、标签等</td><td><a href="https://codex.wordpress.org/zh-cn:%E5%BC%80%E5%8F%91%E4%B8%80%E4%B8%AA%E6%8F%92%E4%BB%B6">zh-cn:开发一个插件 « WordPress Codex</a></td></tr><tr><td><a href="https://hub.docker.com/search?q=&amp;type=extension">Docker Extension</a><br /></td><td>1. 在Docker Hub上注册账号<br>2. 构建好你的扩展镜像，并提交到 Docker Hub<br />3. 选择一种发布方式并等待审核</td><td>可以选择<a href="https://github.com/docker/extensions-submissions/issues/new?assignees=&amp;labels=&amp;template=1_automatic_review.yaml&amp;title=%5BSubmission%5D%3A+">自行发布</a>或者<a href="https://www.docker.com/products/extensions/submissions/">请求官方审核</a></td><td>1. 推送新版本的扩展 Docker Image ，并带有递增的版本标记<br />2. 像管理你的镜像版本一样管理你的扩展版本</td><td><a href="https://docs.docker.com/docker-hub/publish/">加入 Docker Verified Publisher Program</a></td><td>保存在扩展镜像中的 <code>metadata.json</code> 中，当然官方肯定也会缓存一部分</td><td><a href="https://docs.docker.com/desktop/extensions-sdk/extensions/publish/">Publish your extension to the marketplace</a></td></tr><tr><td><a href="https://openai.com/blog/chatgpt-plugins">ChatGPT Plugins</a></td><td>1. 搭建好你的 API 服务<br />2. 以官方的格式创建 JSON/YAML 文件描述你的插件，并保存在域名下</td><td>目前是在官网通过机器人递交表单，然后人工审核</td><td>1. 更新你部署即可<br />2. 不需要维护多版本，访问到的就是你部署的最新版本</td><td>暂无明确的官方验证机制</td><td>大部分保存在你部署的 API 的域名下的 YAML/JSON 文件中，官方服务器仅保存名称，描述及域名等基本信息</td><td><a href="https://platform.openai.com/docs/plugins/getting-started">Getting Started - OpenAI API</a></td></tr></tbody></table><p>依此，我进行以下设计（下面节选自 Proposal）</p><blockquote><ul><li><p>在提交流程这一步来看，我感觉 GitHub Actions 的流程和我们的项目是最贴切的，毕竟我们希望尽可能地利用 GitHub 的基础设施，我认为我们也可以将仓库的一个 Release 关联到插件的一个版本</p></li><li><p>审核机制来看，大部分都是平台自建审核功能，而我也注意到了Docker Extension 的 <a href="https://github.com/docker/extensions-submissions/issues/new?assignees=&amp;labels=&amp;template=1_automatic_review.yaml&amp;title=%5BSubmission%5D%3A+">自行发布</a> 的做法，我认为可以借鉴他的做法：他是一个 Issue Form 对应一个申请，然后，用 tag 标记状态，并由 GitHub Actions 自动检查是否符合条件，这种做法让我想起来社团里有学长加友链也是<a href="https://github.com/aFlyBird0/blog-friends/issues/new/choose">这么</a>搞的， Issue Form 真的可玩性挺高的</p><p>而对于我们来说，可以根据审核的事件类型自定义要不要加人工审核，比如说上架，机器人检查通过之后（这个 repo 的确按照我们规定的格式编写好了插件，可以编译成 Docker Image），可以自动 @ 管理员来人工审核并通过（更改 tag 并关闭 issue），如果有问题则可以在这个 issue 下面继续交流</p></li><li><p>版本管理来看，可以使用与 GitHub Actions 一样的关联 Release 的做法，然后上架或者下架新版本都需要提交审核申请，添加/解除与一个 Release 的关联</p></li><li><p>验证官方发布来看，也可以和 GitHub Actions 一样，仓库在谁手里就是谁发布的，当然还可以以提交审核的方式认证一些别的 tag</p></li><li><p>关于元信息存储，我的看法是与 Visual Studio Code 一样在本体中全量存储（比如在根目录的 <code>metadata.json</code> ） ，然后后端数据库缓存一份，并且始终缓存最新版的信息，这种做法对后端应该最方便，但是对用户来说可能有点麻烦，毕竟你要改描述或者分类这种信息也需要再发布一个新版本</p><p>也就是说，只要插件的仓库中有一个能编译出来镜像的 <code>Dockerfile</code> ，以及一个符合规范的 <code>metadata.yaml</code> ，就够了</p></li><li><p>插件本体存储来看，除去 ChatGPT Plugins 提交的是 API 之外，其他的都是提交并分发一个能离线运行的实体，有些实体是不需要编译的，直接提交源码即可，有些是提交了编译后的产物（如 JAR 包），而在这些案例中大多数都是直接提交编译后的二进制，但是 Docker Extension 有所不同，他是让用户自行将 Docker Image 提交到 Docker Hub ， 然后提交扩展的时候就上交一个链接就好了，如果我们也这样做的话就是把存储成本转嫁给用户，但是从稳定性来看感觉不妥，当然你也可以说 Docker Hub 是他们自家的存储设施，我的结论就是由我们自己负责编译和存储</p></li></ul><p>另外，作为一个市场还可以有评分和评论的功能，但是我感觉没什么必要，评分的话看仓库的 star 应该就可以了，如果对插件有什么看法的话也可以直接去提一个 issue，当然如果要做的话也可以用 <a href="https://giscus.app/zh-CN">giscus</a> 这种解决方法，直接依托 GitHub 的基础设施</p><p>…</p></blockquote><p>而核心的上架流程是这样的</p><blockquote><ol><li><p>在自己的 GitHub 仓库中开发好插件，包含 <code>Dockerfile</code> 与 <code>metadata.yaml</code></p></li><li><p>使用 Issue Form 提交申请，包括自己的仓库地址，同意服务条款</p></li><li><p>使用 GitHub Actions 检查是否接收了服务条款</p></li><li><p>使用 GitHub Actions 找到该项目的 Latest Release ，检查是否合规</p><ol><li><p>元数据是否符合规范、完整</p><ol><li>询问后端是否重名</li><li>是否填写了分类、分类是否在预定义的种类中</li><li>如果定义了 icon、color ，定义是否合规</li></ol></li><li><p>是否能够编译</p><p>使用 <code>docker build</code> 试编译</p></li></ol></li><li><p>自动检测通过，打上 tag ， 等待人工审核</p><p>若未通过，告知原因，并告知需要发布新版本并使用 <code>/validate</code> 重新检测</p></li><li><p>人工审核并更新 tag</p></li><li><p>GitHub Actions 识别到通过的 tag， 向后端上报要关联到的 release 版本</p></li><li><p>上架完成后自动关闭 issue</p></li></ol><p>…</p></blockquote><p>前文所说的 Docker Extension 的 <a href="https://github.com/docker/extensions-submissions/issues/new?assignees=&amp;labels=&amp;template=1_automatic_review.yaml&amp;title=%5BSubmission%5D%3A+">自行发布</a> 我感觉设计的真的很好，最大的特点就是使用 Issue Form 进行申请，然后 GitHub Actions 会自动跑一遍检查，并在 Issue 页面使用对话的形式与用户交互，如果有错误也会指出，并使用 tag 追踪状态</p><p><img src="https://image.nickxu.me/202310171132528.png" alt="image-20231017上午113215497"></p><p><img src="https://image.nickxu.me/202310171131340.png" alt="image-20231017上午113155311"></p><p><img src="https://image.nickxu.me/202310171131472.png" alt="image-20231017上午113133442"></p><p>这一设计最大的好处就是公开透明，所有与用户的交互都是公开的，并且就在 GitHub</p><p>很巧的是我们社团的 <a href="https://blog.marlene.top/index.php/develop/93.html">Marlene</a> 同学的 OSPP 项目也是做插件市场，我和他在私下讨论了这种做法，他也表示很认同，并打算借鉴这种方案</p><p>于是总体设计就变成了这个样子</p><p><img src="https://image.nickxu.me/202310171110193.png" alt="v4.全局设计"></p><p>差别不算大，但是变成了每次发版都要新增一个 Issue 并进行两段式审核，一次机审是看符不符合规范，第二次是人工审核，也就是要求中的「经过社区 review」</p><p>之后就是 OSPP 中选了，中选后被社区拉着开了次会</p><img src="https://image.nickxu.me/202310171626988.png" alt="image-20231017下午42651938" style="zoom:50%;" /><blockquote><p>有点后悔没录像，感觉开的挺好的</p></blockquote><p>会上我讲解了现在的方案，有一个问题被重点讨论，就是不再使⽤分库的形式（开发者在各⾃的仓库维护项⽬），⽽是⼤库（所有⼈向主仓库提交 PR）</p><p>这个改变有几个原因，我记得一方面能增加开发者的认同感（我给官方仓库贡献了一个插件），另一方面这个平台应该是我们与开发者共建，而不是我们去服务开发者（有点怪，但大概是这个意思）</p><p>于是，使用大库的话很多逻辑就又要改了，比方说版本管理要自己设计一套方案，我当时设计的是在元数据里记录版本，然后版本变动的时候就通知后端更新数据，把本次 commit hash 和这个插件的这个版本关联起来，再去做 bulid</p><p>为什么要做版本管理呢？这个在会上我也讨论过，比如 VSCode 的插件就有版本管理，它每个插件版本都在元数据写上能支持哪些 VSCode 版本，我觉得我们这个 MoE 的基座也会存在类似的问题</p><p>项目结构大概就是这个样子</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── LICENSE</span><br><span class="line">├── README.md</span><br><span class="line">├── plugins # 插件⽬录，存储所有插件</span><br><span class="line">│   ├── example</span><br><span class="line">│   ├── example2</span><br><span class="line">│   ├── example3</span><br><span class="line">│   └── example4</span><br><span class="line">└── web</span><br><span class="line"> ├── frontend # 前端</span><br><span class="line"> └── backend  # 后端</span><br></pre></td></tr></table></figure><p>每个插件目录的必须内容如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">example</span><br><span class="line">├── changelog.md # 开发者⾃⼰维护的 Markdown</span><br><span class="line">├── config.proto # 配置参数定义</span><br><span class="line">├── metadata.yaml # 插件元数据，包括名称描述分类版本等</span><br><span class="line">└── readme.md # 开发者⾃⼰维护的 Markdown</span><br></pre></td></tr></table></figure><p>这样一来，后端就需要 clone 和 pull 这个仓库，再深挖 git 历史，分析各个插件的历史版本，有点费力</p><p>为什么要这么搞呢？有没有更简单的方法，可能吧，但是我没找到</p><ul><li>Docker Extension 交的本来就是 Docker Image 的地址，Docker Hub 能给他做版本管理</li><li>而 Marlene 那是 PyPI ，版本管理那边已经做好了</li></ul><p>当然大库也不是全然没好处，我感觉这样就可以省一些逻辑，比方说貌似不需要 Issue Form 来处理各个发版事件了，也不需要维护一堆 tag，每个人直接对着仓库 PR 就行，只需要一个 Actions 里有一个简单的检查，不需要糊交互</p><p>想好了之后我开始想前后端了，MVP 的话，感觉两个接口就行，一个列表一个详情即可</p><p>而后端还需要数据库吗？啊，貌似数据库也不需要了，可以每次更新的时候直接生成 JSON 缓存，然后直接返回给前端，而查询的话至少近期可以在前端进行，这样貌似根据稳定</p><p>而 build 的话，我打算暂时先放一放吧，做最简单的打包某版本的源代码，至于编译上传 S3，或者使用 Docker Image 可以后面再说</p><p>同时，我开始糊前端，先画设计图</p><img src="https://image.nickxu.me/202310171411499.png" alt="429cdbfb0271c2ced239bae81e6748fc" style="zoom:50%;" /><p>主⻚包含列出，搜索、分类功能，详情页包含 Overview、Config、Version和 Changlog 四个 Tab</p><p>后端感觉没什么问题我就开始搓前端了，但前端我其实不是很会，但是还是在前端大佬 daidr 的帮助下完成了</p><p><img src="https://image.nickxu.me/202309281924384.png" alt=""></p><blockquote><p>首页</p></blockquote><p><img src="https://image.nickxu.me/202309281928905.png" alt=""></p><blockquote><p>详情页的 Overview ，是原 <code>readme.md</code> 的渲染</p><p>但这个渲染并不是简单的渲染，我是调用了 GitHub 的  <a href="https://docs.github.com/zh/rest/markdown/markdown?apiVersion=2022-11-28#render-a-markdown-document">Render a Markdown document</a> 接口，结合了仓库的上下文</p><p>（⽐如 <code>#1</code> 会被正确指向对应的 Issue 或者 PR）</p></blockquote><p><img src="https://image.nickxu.me/202309281926402.png" alt=""></p><blockquote><p>Config 是原 <code>config.proto</code> 的渲染</p></blockquote><p><img src="https://image.nickxu.me/202309281926047.png" alt=""></p><blockquote><p>Changelog 是原 <code>changelog.md</code> 的渲染</p></blockquote><p><img src="https://image.nickxu.me/202309281928369.png" alt=""><img src="https://image.nickxu.me/202309281927210.png" alt=""></p><blockquote><p>Versions 包含插件的所有历史版本，这个在 GitHub 直接发一个 Release 是社区里其他导师建议的</p></blockquote><p>而调试到了最后，居然感觉连后端都可以不要了（</p><p>首先由于域名备案等考虑需要，⽬前不需要有评论等交互功能，OAuth 登陆⽬前没有意义，有也可以使用静态博客的评论系统，而流量统计使用第三方服务也可以做到，至于编译推送，也可以在 GitHub Actions 中完成（我之前感觉从公网推送到内网不是很合适，但现在感觉应该也就是推到某些第三方服务上了）</p><p><img src="https://image.nickxu.me/202310172115508.png" alt="image-20231017下午91551486"></p><blockquote><p>好好好</p></blockquote><p>于是我开始把原来后端的逻辑塞到 GitHub 工作流中再重构，再进行若干修改</p><p>我想到了可以直接以 RAW 的形式直接读取仓库里的 JSON 文件，就像我的一个玩具项目一样</p><p><img src="https://image.nickxu.me/202310171410304.png" alt="7a6ab5853fd4d20854d3bdc491a72fd4"></p><p>其实没后端反而更方便了，因为我大概只需要执行这段伪代码</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 插件 := <span class="keyword">range</span> 所有插件 &#123;</span><br><span class="line">   <span class="keyword">if</span> 当前插件的版本没有打过tag &#123;</span><br><span class="line">       发布并更新缓存</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>此外还有些小改动，就是把生成的缓存移到其他分支中，因为 <code>main</code> 分支大概会有保护规则，不允许直接提交</p><p>于是我将缓存移到 <code>cache</code> 分支，并用将前端用 GitHub Page 发布，这下是真不要钱了（</p><p>再不断的调试后，到这一步，整个项目其实已经应该能跑了，而令我没想到的是，回看最开始的产出要求，我其实一个都没做到（笑）</p><ol><li>提供一个Envoy Go 插件的内容平台，在这里可以发布经过社区review的优秀插件，需要拥有服务端与前端页面</li><li>不自建账号体系，通过GitHub OAuth2.0完成用户认证与授权</li><li>进阶 - 对接GitHub OpenAPI，支持动态获取插件所在仓库信息，包括README，分支版本以及star数</li></ol><p><s>乐，只能说计划没法赶上变化</s></p><p>除此之外，还令我没想到的是导师会提那么多 LICENSE 相关的问题（</p><p><img src="https://image.nickxu.me/202310172122478.png" alt="08b0a845b2c2c0a642d8116684a9e502"></p><img src="https://image.nickxu.me/202310172123143.png" alt="397e42e1900775a5c99f0cfc6f6428ed" style="zoom:50%;" /><img src="https://image.nickxu.me/202310172123387.png" alt="86a757d0c923feb50298e40519ea5223" style="zoom: 67%;" /><p>我大概了解各自开源协议的含义，但还从没认真对待过</p><p>至于未来这个项目会怎么发展，导师说还可以用 <a href="https://docusaurus.io/zh-CN/">Docusaurus</a> 做生成的静态前端，我想也是，这样就不用生成 cache 了，直接更新前端，能少一次请求</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;书接上文 &lt;a href=&quot;https://nickxu.me/2023/06/my-story-with-OSPP-from-hearing-to-being-selected.html&quot;&gt;『OSPP2023』我与 OSPP 的故事 —— 从听闻到中选&lt;/a&gt; ，本文注重于描写项目开发的经历&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&quot;项目基本信息&quot;&gt;项目基本信息&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;项目名称：为 Envoy Go 扩展建设插件市场&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;项目导师：纪卓志&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;项目描述：&lt;/p&gt;
&lt;p&gt;Envoy 是当前最流行的网络代理之一，Go 扩展是 MOSN 社区为 Envoy 增加的 Go 生态基础，也是 MOSN 社区 MoE 框架的基础。&lt;/p&gt;
&lt;p&gt;受益于Golang生态系统，研发可以轻松在 Envoy 实现插件用于更多的长尾场景，其中很多场景都是通用的。&lt;/p&gt;
&lt;p&gt;本项目是为Envoy Go 扩展构建插件市场。在插件市场中，人们可以在插件市场中分享插件，选用已经存在的插件。通过插件市场，可以让 Envoy</summary>
      
    
    
    
    <category term="OSPP" scheme="https://nickxu.me/categories/OSPP/"/>
    
    
    <category term="OSPP" scheme="https://nickxu.me/tags/OSPP/"/>
    
  </entry>
  
  <entry>
    <title>你还惦记着你那二面呢｜Allow Everything to Happen</title>
    <link href="https://nickxu.me/post/allow-everything-to-happen.html"/>
    <id>https://nickxu.me/post/allow-everything-to-happen.html</id>
    <published>2023-10-12T16:56:14.000Z</published>
    <updated>2023-10-12T17:20:59.012Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://image.nickxu.me/202310130057300.png" alt="f6d2c2d5852e153218a05493c7948488"></p><blockquote><p>「你还惦记着你那二面呢」</p></blockquote><p>我真的好累，今天还吐了，感觉病了</p><p>我消失了很长一段时间，本来我想写一篇长文，记录我从 8 月 22 号返校到现在发生的所有事情</p><p>但是我真的好累，简单地说，就是诸事不顺，面试、亚运、学业…我不想写</p><p>我总是想在最后来一波升华，但是我其实并没有走出来，架构不出，我写不出来</p><p>我太想成功了，但这正是我没法成功的原因</p><p>就像你找东西，你越找就越找不到，经常是后面不经意的时候突然就冒出来了</p><p>就我现在这个状态，我想留一句话，与君共勉吧</p><blockquote><p>Allow everything to happen｜允许所有事情发生</p></blockquote><p>最后，我还想说</p><p>爸爸妈妈，我永远爱你们❤️</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1979375472&auto=1&height=66"></iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img src=&quot;https://image.nickxu.me/202310130057300.png&quot; alt=&quot;f6d2c2d5852e153218a05493c7948488&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;「你还惦记着你那二面呢」&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我真的好累，今天还吐了，感觉病了&lt;/p&gt;
&lt;p&gt;我消失了很长一段时间，本来我想写一篇长文，记录我从 8 月 22 号返校到现在发生的所有事情&lt;/p&gt;
&lt;p&gt;但是我真的好累，简单地说，就是诸事不顺，面试、亚运、学业…我不想写&lt;/p&gt;
&lt;p&gt;我总是想在最后来一波升华，但是我其实并没有走出来，架构不出，我写不出来&lt;/p&gt;
&lt;p&gt;我太想成功了，但这正是我没法成功的原因&lt;/p&gt;
&lt;p&gt;就像你找东西，你越找就越找不到，经常是后面不经意的时候突然就冒出来了&lt;/p&gt;
&lt;p&gt;就我现在这个状态，我想留一句话，与君共勉吧&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Allow everything to happen｜允许所有事情发生&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;最后，我还想说&lt;/p&gt;
&lt;p&gt;爸爸妈</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>浅析 JWT Refresh Token</title>
    <link href="https://nickxu.me/post/jwt-refresh-token.html"/>
    <id>https://nickxu.me/post/jwt-refresh-token.html</id>
    <published>2023-10-10T03:31:24.000Z</published>
    <updated>2023-10-11T04:40:27.865Z</updated>
    
    <content type="html"><![CDATA[<p>最近<a href="https://www.v2ex.com/t/979326">逛 V 站</a>又看见有人在讨论 JWT，感觉很多人讲的很乱，我想简单记录下我印象中的理解</p><h2 id="Session">Session</h2><p>最开始应该是 session 方案，就是用户登陆后服务器返回客户端一个存根（token）来标识当前的会话</p><p>服务器在缓存中保存这个 token，用户请求时需要传递这个 token（不管你是使用 cookie header 还是 query）</p><p>每次请求服务器都在缓存中查找这个 token，并且找到当前会话的相关信息（比如说是哪个用户）</p><p>使用这种方案的优点：</p><ul><li>强控制性：可以手动过期，如果想让某个用户下线就直接在缓存删除对应的键值对就行</li><li>可观察性：可以很清楚地看见当前的在线用户数量</li></ul><p>使用这种方案的缺点：</p><ul><li>性能需求高：因为每次请求都要查缓存，如果用户规模越大的问题越明显</li><li>对分布式不友好：他是有状态的，你必须共用一个缓存空间来存储数据</li></ul><h2 id="原始-JWT">原始 JWT</h2><p>为了克服上面的缺点， JWT 出现了</p><p>JWT (JSON Web Token ) 使用的是一种很巧妙的方法，他本身也是一个 string token，分为三部分</p><p><code>Header.Payload.Signature</code></p><ol><li>Header，标识加密算法</li><li>Payload，你要存储的数据，比如说用户 ID 、权限 Level 与过期时间等，请注意这是外部可读的</li><li>Signature，加密算法签名</li></ol><p>你需要注意的是，Payload 是前后端都可读的，但是可以使用 Signature 保证这个 Payload 是未更改的</p><p>工作流程是这样的：</p><p>用户登陆后服务器通过本地密钥计算并返回 JWT 给用户，用户请求时需要传递这个 JWT（不管你是使用 cookie header 还是 query）</p><p>服务器解析 JWT，通过本地密钥 + Signature 验证是否是当初颁发的 JWT，如果是的话就完全相信 Payload 的内容（你是谁，你的权限是什么等等）</p><p>到这里你应该能看出一些问题了，但暂时按下不表，先谈优点</p><p>使用这种方案的优点：</p><ul><li>性能要求低：不需要查缓存或者查库，如果收到的是有效的 JWT，就直接信赖 Payload 的内容</li><li>无状态&amp;分布式友好：如果你有两个毫不相干的服务 A 和 B，那么只需要你的本地密钥是相同的，那么生成的 JWT 看上去就是从一个服务生成的（也就是说能够相互承认）</li></ul><p>使用这种方案的优点：</p><p>不安全哇！即使你的 JWT 可以过期，那么在过期前用户权限更改或者用户注销了怎么办？它是无法撤销的</p><ul><li><p>如果你选择完全相信 Payload 的内容</p><p>当权限更改时（严重点用户注销时）过期之前 JWT 仍然有效，这时用户仍然可以使用之前的身份活动（严重点你可以看见注销的用户在活动）</p></li><li><p>如果你选择每次查库验证</p><p>你选择每次接收请求时都查一遍用户的权限，或者这个用户存不存在</p><p>但是这样就违背了 JWT 的初衷了，你还是倒退回「每次请求都要查一遍缓存」，JWT 就退化成类似  Session 的模型了</p></li></ul><h2 id="长短令牌的-JWT">长短令牌的 JWT</h2><p>为了缓解这个问题，就有了长短 JWT</p><ul><li><p>短期 JWT（Access Token）：用于日常访问，但是有效期短（比如 10-30min）</p><p>这样，即使权限更改或者用户注销，或者令牌被盗，也只能在短时间能使用</p></li><li><p>长期 JWT（Refresh Token）：用于在短 JWT 过期时查库并生成新的短 JWT，不能用于日常请求，有效期很长</p></li></ul><p>这种策略能很好的缓解上面的问题，比如长 JWT 只有用户 ID，每次刷新都会查库确认用户存在并拿到当前权限</p><p>即使用户身份更改了，旧身份的有效期也只有短 JWT 的长度（实际上前端应该立即销毁旧身份并刷新令牌）</p><p>当然，你可能会说这样还是不够安全哇！如果你问出这个问题的话，那你可以使用 Session 模式，它的确是更加安全可控</p><p>但对于一般项目来说也没什么所谓了，JWT 也够了，毕竟方便</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近&lt;a href=&quot;https://www.v2ex.com/t/979326&quot;&gt;逛 V 站&lt;/a&gt;又看见有人在讨论 JWT，感觉很多人讲的很乱，我想简单记录下我印象中的理解&lt;/p&gt;
&lt;h2 id=&quot;Session&quot;&gt;Session&lt;/h2&gt;
&lt;p&gt;最开始应该是 session 方案，就是用户登陆后服务器返回客户端一个存根（token）来标识当前的会话&lt;/p&gt;
&lt;p&gt;服务器在缓存中保存这个 token，用户请求时需要传递这个 token（不管你是使用 cookie header 还是 query）&lt;/p&gt;
&lt;p&gt;每次请求服务器都在缓存中查找这个 token，并且找到当前会话的相关信息（比如说是哪个用户）&lt;/p&gt;
&lt;p&gt;使用这种方案的优点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;强控制性：可以手动过期，如果想让某个用户下线就直接在缓存删除对应的键值对就行&lt;/li&gt;
&lt;li&gt;可观察性：可以很清楚地看见当前的在线用户数量&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用这种方案的缺点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;性能需求高：因为每次请求都要查缓存，如果用户规模越大的问题越明显&lt;/li&gt;
&lt;li&gt;对分布式不友好：</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>字节二面挂，还是人太菜了</title>
    <link href="https://nickxu.me/post/bytedance-interview-failed-2023-09.html"/>
    <id>https://nickxu.me/post/bytedance-interview-failed-2023-09.html</id>
    <published>2023-09-07T09:19:57.000Z</published>
    <updated>2023-09-07T15:28:21.175Z</updated>
    
    <content type="html"><![CDATA[<h1 id="字节一面">字节一面</h1><ul><li>自我介绍</li><li>简单介绍字节青训营项目</li><li>是组队的吗</li><li>项目耗时</li><li>项目收获的点</li><li>ELK 是你们搭建的吗</li><li>ELK 的软件安装</li><li>数据流大概是怎样的</li><li>是通过什么写到 Logstash 里的</li><li>Logstash 的功能</li><li>你们用的的 fail2ban 是什么</li><li>traceID 介绍</li><li>微服务框架用的什么</li><li>traceID 在框架中是怎么传递的</li><li>对于异步的请求怎么处理的</li><li>这个项目的挑战和难点</li><li>Golang 的 Panic 关键字</li><li>Panic 怎么恢复</li><li>不加 defer 会怎样</li><li>为什么不能恢复</li><li>go 的方法的传值，传递切片，是怎么传的，在里面改变切片，外部能感受到吗</li><li>你说的副本是什么概念</li><li>在函数中 map 改变 kv，外部能感受吗</li><li>传递结构体，一般传值还是传指针</li><li>GMP 模型</li><li>在一个程序中不断起 goroutine，它的队列最终是个什么状态</li><li>一个 G 在一个 M 上执行的时间过长，会怎样调度</li><li>是通过什么策略控制的呢</li><li>刚才说的太长时间你有个时间上的概念吗，什么时间算太长</li><li>协程和线程的区别</li><li>其他的优势，怎么时候选择协程，什么时候不应该选协程</li><li>线程和协程，IO 密集型和 CPU 密集型哪个更适合</li><li>他节省的时间是怎么体现的</li><li>如果我找其他的线程呢？有什么区别</li><li>你比较擅长什么</li><li>MySQL 为什么使用 B+ 树</li><li>分裂与结合，这个是 B 树与 B+ 树的区别吗</li><li>放在叶子结点上导致了什么呢</li><li>还有其他的吗</li><li>了解过跳表吗</li><li>时间复杂度一样吗，跳表和 B+</li><li>为什么 Redis 的 zest 使用了跳表，为什么不用 B+</li><li>MySQL 和 Redis 这两种的本质区别</li><li>有没有可能这两种分别适用于内存和磁盘</li><li>你有什么想问的</li><li>简单编程题 15min：两个 Version 字符串比较大小</li></ul><h1 id="字节二面">字节二面</h1><ul><li>自我介绍</li><li>个人擅长的领域，未来发展</li><li>能实习多长时间</li><li>什么时候可以开始</li><li>你想在哪些方向上，哪些团队实习</li><li>青训营经历</li><li>团队人数，分工</li><li>队长开发吗</li><li>持续时间</li><li>封闭式的吗</li><li>你对这个抖音后端的设计思路</li><li>微服务你这个怎么拆的</li><li>为什么这么拆</li><li>有没有必要把用户拆出来</li><li>微服务好处，实用角度</li><li>服务观测、日志收集，这个是怎么考虑的</li><li>项目难点</li><li>团队项目管理难点</li><li>怎样让协同的质量更高</li><li>做过的其他项目</li><li>跳表是什么</li><li>对比有序的数组的优点</li><li>平衡树是什么概念</li><li>平衡树有什么实现</li><li>某一种平衡树自平衡的思路</li><li>线程和协程的区别</li><li>协程为什么是 kb 级</li><li>开销更小，具体表现在哪些方面</li><li>还有别的吗</li><li>你学过什么计算机基础方面的课程吗</li><li>http 请求的数据包的传输，发生过程</li><li>四次挥手介绍</li><li>tcp 的拥塞算法</li><li>设计模式</li><li>多久接触 go 语言</li><li>gorm 的理解</li><li>技术的角度，你有没有看过源码，或者使用的角度</li><li>你有看过他的实现吗</li><li>乐观锁和悲观锁</li><li>互斥锁什么时候用</li><li>互斥锁使用的注意点</li><li>为什么设计上是不可重入的</li><li>设计上怎么避免重复上锁</li><li>介绍一下Protocol Buffers</li><li>还有吗</li><li>修改名字，换 key，在序列化上有什么注意点吗</li><li>技术上还有什么擅长的没问到的</li><li>缓存一致性</li><li>删除而不是更新是为什么</li><li>删除不会有这个问题吗</li><li>延迟双删再解释一下</li><li>如果中间有人拉了值那不就拉到旧值了</li><li>算法题 15min：手写 LRU</li></ul><h1 id="自我感受">自我感受</h1><p><img src="https://image.nickxu.me/202309072326888.png" alt="e1e010d400b8c12dce93aecd2ebee860"></p><p><img src="https://image.nickxu.me/202309072325699.png" alt="2f20f8a4ee11d8830852953215d693b0"></p><p>字节二面挂，复盘了一下感觉还是自己太菜了</p><p>感觉问的问题也算合理，我应该能答出来才对</p><p>最近发生了好多事情，真的累，以后再说吧</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;字节一面&quot;&gt;字节一面&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;自我介绍&lt;/li&gt;
&lt;li&gt;简单介绍字节青训营项目&lt;/li&gt;
&lt;li&gt;是组队的吗&lt;/li&gt;
&lt;li&gt;项目耗时&lt;/li&gt;
&lt;li&gt;项目收获的点&lt;/li&gt;
&lt;li&gt;ELK 是你们搭建的吗&lt;/li&gt;
&lt;li&gt;ELK 的软件安装&lt;/li&gt;
&lt;li&gt;数据流大概是怎样的&lt;/li&gt;
&lt;li&gt;是通过什么写到 Logstash 里的&lt;/li&gt;
&lt;li&gt;Logstash 的功能&lt;/li&gt;
&lt;li&gt;你们用的的 fail2ban 是什么&lt;/li&gt;
&lt;li&gt;traceID 介绍&lt;/li&gt;
&lt;li&gt;微服务框架用的什么&lt;/li&gt;
&lt;li&gt;traceID 在框架中是怎么传递的&lt;/li&gt;
&lt;li&gt;对于异步的请求怎么处理的&lt;/li&gt;
&lt;li&gt;这个项目的挑战和难点&lt;/li&gt;
&lt;li&gt;Golang 的 Panic 关键字&lt;/li&gt;
&lt;li&gt;Panic 怎么恢复&lt;/li&gt;
&lt;li&gt;不加 defer 会怎样&lt;/li&gt;
&lt;li&gt;为什么不能恢复&lt;/li&gt;
&lt;li&gt;go 的方法的传值，传递切片，是怎么传的，在里面改变切片，外部能感受到吗&lt;/li&gt;
&lt;li&gt;你说的副本是什</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>🌟 你可能感兴趣的文章｜Posts you might be interested in</title>
    <link href="https://nickxu.me/posts-you-might-be-interested-in.html"/>
    <id>https://nickxu.me/posts-you-might-be-interested-in.html</id>
    <published>2023-08-21T16:18:49.000Z</published>
    <updated>2023-10-19T13:57:19.570Z</updated>
    
    <content type="html"><![CDATA[<details class="toggle" ><summary class="toggle-button" style="">Latest Resume｜最近在找实习哦</summary><div class="toggle-content"><p><img src="https://image.nickxu.me/202310192155894.jpg" alt="'My Resume (2)."></p></div></details><h1 id="Junior｜大三">Junior｜大三</h1><ul><li><a href="https://nickxu.me/post/my-story-with-OSPP-project-experience-sharing.html">『OSPP2023』我与 OSPP 的故事 —— 项目经验分享</a></li><li><a href="https://nickxu.me/post/allow-everything-to-happen.html">你还惦记着你那二面呢｜Allow Everything to Happen</a></li></ul><hr><h1 id="Sophomore｜大二">Sophomore｜大二</h1><ul><li><a href="https://nickxu.me/post/aliyun-oss-brushed-1000rmb-fees.html">阿里云OSS被刷，我交了1000RMB学费</a></li><li><a href="https://nickxu.me/2023/06/my-story-with-OSPP-from-hearing-to-being-selected.html">『OSPP2023』我与 OSPP 的故事 —— 从听闻到中选</a></li><li><a href="https://nickxu.me/posts/274.html">2023五一总结：近况与将来</a></li><li><a href="https://nickxu.me/2023/03/18/%E5%91%8A%E5%88%ABELK%EF%BC%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86%E7%B3%BB%E7%BB%9FGrafana-Loki%E5%88%9D%E4%B8%8A%E6%89%8B/">告别ELK｜轻量级日志收集系统Grafana Loki初上手</a></li><li><a href="https://nickxu.me/2023/03/13/%E7%AC%AC%E4%BA%94%E5%B1%8A%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8%E9%9D%92%E8%AE%AD%E8%90%A5%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/">第五届字节跳动青训营项目总结</a></li><li><a href="https://nickxu.me/2023/03/01/%E5%86%99%E5%9C%A8%E5%A4%A7%E4%BA%8C%E5%BC%80%E5%AD%A6%E4%B9%8B%E5%88%9D/">写在大二下开学之初</a></li><li><a href="https://nickxu.me/2022/12/14/%E3%80%8ECI-CD%E3%80%8F%E7%BB%93%E5%90%88GitHub-Actions-Docker%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/">『CI/CD』结合GitHub Actions+Docker实现自动化部署</a></li><li><a href="https://nickxu.me/2022/10/31/%E5%86%99%E5%9C%A810%E6%9C%88%E7%9A%84%E6%9C%80%E5%90%8E%E4%B8%80%E5%A4%A9/">写在10月的最后一天</a></li><li><a href="https://nickxu.me/2022/10/06/%E3%80%8ELinux%E3%80%8F%E5%B0%86-Ubuntu-22-04-%E4%BD%9C%E4%B8%BA%E4%B8%BB%E5%8A%9B%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%84%9F%E6%83%B3/">『Linux』一个多月来将 Ubuntu 22.04 作为主力系统的感想</a></li><li><a href="https://nickxu.me/2022/10/04/%E3%80%8EJWT%E3%80%8F%E5%9C%A8-go-zero-%E6%A1%86%E6%9E%B6%E4%B8%AD%E4%BD%BF%E7%94%A8-JWT-%E9%89%B4%E6%9D%83/">『JWT』在 go-zero 框架中使用 JWT 鉴权</a></li><li><a href="https://nickxu.me/2022/09/29/%E3%80%8E%E6%80%BB%E7%BB%93%E3%80%8F2022%20%E5%9B%BD%E5%BA%86%E5%89%8D%E9%98%B6%E6%AE%B5%E6%80%A7%E6%80%BB%E7%BB%93/">『总结』2022 国庆前阶段性总结</a></li><li><a href="https://nickxu.me/2022/10/12/%E3%80%8Ehduhelp%E3%80%8F%E5%A6%82%E4%BD%95%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%8E%A5%E5%85%A5%E5%8A%A9%E6%89%8B%20OAuth/">『hduhelp』如何在项目中接入助手 OAuth</a></li><li><a href="https://nickxu.me/2022/09/28/%E3%80%8Ehduhelp%E3%80%8F%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E5%8A%A9%E6%89%8B%E7%9A%84%E5%BC%80%E6%94%BE%E6%9C%8D%E5%8A%A1/">『hduhelp』如何使用助手鉴权/使用助手的开放服务</a></li><li><a href="https://nickxu.me/2022/09/18/%E3%80%8E%E9%9A%8F%E7%AC%94%E3%80%8F2022-%E6%9D%AD%E5%8A%A9%E6%8B%9B%E6%96%B0%E9%9D%A2%E8%AF%95%E6%84%9F%E6%83%B3/">『随笔』面试官竟是我自己 —— 2022 杭助秋招面试工作感想</a></li><li><a href="https://nickxu.me/2022/09/30/GORM-%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%E5%89%8D%E8%A8%80%E4%B8%8E%E4%BB%8B%E7%BB%8D/">GORM 入门笔记（一）前言与介绍</a></li><li><a href="https://nickxu.me/2022/09/11/%E3%80%8ETwikoo%E3%80%8F%E8%A7%A3%E5%86%B3-Vercel-app-%E5%9C%A8%E5%9B%BD%E5%86%85%E8%A2%AB%E5%A2%99%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%E9%97%AE%E9%A2%98/">『Twikoo』解决 Vercel.app 在国内被墙导致无法使用的问题</a></li><li><a href="https://nickxu.me/2022/09/10/%E3%80%8E%E9%9A%8F%E7%AC%94%E3%80%8F%E5%86%99%E5%9C%A8%E6%96%B0%E5%AD%A6%E5%B9%B4%E4%BC%8A%E5%A7%8B/">『随笔』写在新学年伊始</a></li></ul><hr><h1 id="Freshman｜大一">Freshman｜大一</h1><ul><li><a href="https://nickxu.me/2022/06/29/%E3%80%8EGitHub%E3%80%8F%E5%AD%A6%E7%94%9F%E8%BA%AB%E4%BB%BD%E8%AE%A4%E8%AF%81%E9%97%AE%E9%A2%98/">『GitHub』学生身份认证问题</a></li><li><a href="https://nickxu.me/2022/06/14/%E3%80%8E%E9%9A%8F%E7%AC%94%E3%80%8F618%E6%A1%8C%E9%9D%A2%E6%94%B9%E9%80%A0%E8%AE%A1%E5%88%92/">『随笔』618桌面改造计划</a></li><li><a href="https://nickxu.me/2022/06/12/%E3%80%8E%E5%AD%97%E8%8A%82%E9%9D%92%E8%AE%AD%E8%90%A5%E3%80%8F%E7%BB%93%E8%90%A5%E6%84%9F%E6%83%B3/">『字节青训营-3rd』结营感想（待后续）</a></li><li><a href="https://nickxu.me/2022/05/26/%E3%80%8EGit%E3%80%8F%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-Git-%E5%8F%82%E4%B8%8E%E6%9D%AD%E5%8A%A9%E7%9A%84%E9%A1%B9%E7%9B%AE/">『Git』如何使用 Git 参与杭助的项目</a></li><li><a href="https://nickxu.me/2022/05/21/%E3%80%8EWSL%E3%80%8F%E5%9C%A8WSL%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%B8%BB%E6%9C%BA%E7%9A%84%E4%BB%A3%E7%90%86/">『WSL』在 WSL 中使用主机的代理（以 Clash 为例）</a></li><li><a href="https://nickxu.me/2022/04/23/%E3%80%8E%E5%AE%9E%E8%AE%B0%E3%80%8F%E2%80%9C%E9%9F%B5%E5%91%B3%E6%9D%AD%E5%B7%9E%E2%80%9D%E6%B5%8B%E8%AF%95%E8%B5%9B%E7%90%83%E7%AB%A5%E5%BF%97%E6%84%BF%E7%BB%8F%E5%8E%86/">『实记』“韵味杭州”测试赛球童志愿经历</a></li><li><a href="https://nickxu.me/2022/04/17/%E3%80%8E%E6%80%BB%E7%BB%93%E3%80%8F%E5%A4%A7%E4%B8%80%E4%B8%8B%E6%9C%9F%E4%B8%AD%E6%80%BB%E7%BB%93/">『总结』大一下期中总结</a></li><li><a href="https://nickxu.me/2022/04/10/%E3%80%8EOthers%E3%80%8F%E7%AC%AC%E4%B8%89%E5%B1%8A%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8%E9%9D%92%E8%AE%AD%E8%90%A5-%E5%90%8E%E7%AB%AF%E4%B8%93%E5%9C%BA-%E6%97%A9%E7%9F%A5%E6%99%93%E7%9B%B4%E6%92%AD%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81/">『Others』第三届字节跳动青训营 - 后端专场 早知晓直播会议纪要</a></li><li><a href="https://nickxu.me/2022/01/18/gin-ru-men-bi-ji-yi-chu-shi-gin-yu-huan-jing-da-jian/">Gin 入门笔记（一）环境搭建、简单的路由配置</a></li><li><a href="https://nickxu.me/2022/03/21/%E3%80%8EWSL%E3%80%8F%E8%A7%A3%E5%86%B3%E6%AF%8F%E6%AC%A1%E5%90%AF%E5%8A%A8%E5%90%8E%E8%87%AA%E5%8A%A8%E5%88%86%E9%85%8D-IP-%E7%9A%84%E9%97%AE%E9%A2%98/">『WSL』解决每次启动后自动分配 IP 的问题</a></li><li><a href="https://nickxu.me/2022/03/13/%E3%80%8E%E6%9D%82%E6%96%87%E3%80%8F%E5%9C%A8%E8%BF%B7%E8%8C%AB%E4%B8%AD%E5%89%8D%E8%BF%9B/">『杂文』在迷茫中前进</a></li><li><a href="https://nickxu.me/2022/03/02/Python-%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/">Python 入门笔记（一）搭建环境</a></li><li><a href="https://nickxu.me/2022/03/01/Java-%E7%89%88-Minecraft-%E5%8A%A0%E6%A8%A1%E7%BB%84%E5%BC%80%E6%9C%8D%E6%95%99%E7%A8%8B/">Java 版 Minecraft 加模组开服教程</a></li><li><a href="https://nickxu.me/2022/02/28/%E3%80%8ELinux%E3%80%8FNginx-%E9%85%8D%E7%BD%AE-SSL-%E8%AF%81%E4%B9%A6/">『Linux』Nginx 配置 SSL 证书</a></li><li><a href="https://nickxu.me/2021/12/31/cc-vscode-huan-jing-pei-zhi/">『C/C++』VScode 环境配置</a></li><li><a href="https://nickxu.me/2022/02/13/Hexo%20+%20Butterfly%20%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97%EF%BC%88%E3%80%87%EF%BC%89%E5%89%8D%E8%A8%80/">Hexo + Butterfly 建站指南（〇）前言</a></li></ul><hr><h1 id="High-School｜高中">High School｜高中</h1><ul><li><a href="https://nickxu.me/2019/11/14/cc-2019csp-mo-ban/">『C/C++』2019 备战 Noip / CSP</a></li><li><a href="https://nickxu.me/2020/02/20/shu-mei-pai-ru-he-yi-zheng-que-de-zi-shi-zhi-zuo-shu-mei-pai-de-tf-qia-shu-ju-jing-xiang/">『树莓派』如何以正确的姿势制作树莓派的TF卡数据镜像</a></li><li><a href="https://nickxu.me/2020/01/26/shu-mei-pai-minecraft-chao-chang-kai-fu-zhe-teng-ji-lu-javaji-yan-with-hong-shi/">『树莓派』Minecraft超长开服折腾记录（Java+基岩with红石）</a></li><li><a href="https://nickxu.me/2019/07/23/suan-fa-zong-jie-ou-ji-li-de-suan-fa-ji-tuo-zhan/">『算法』总结欧几里得算法及拓展</a></li><li><a href="https://nickxu.me/2019/07/15/suan-fa-zong-jie-kmp-suan-fa/">『算法』总结KMP算法</a></li><li><a href="https://nickxu.me/2019/07/10/shu-mei-pai-da-jian-si-you-yun-fu-wu-qi-nextcloud/">『树莓派』搭建私有云服务器（Nextcloud）</a></li><li><a href="https://nickxu.me/2019/07/06/shu-mei-pai-wifi-xin-hao-zhong-ji/">『树莓派』WiFi信号中继</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;details class=&quot;toggle&quot; &gt;&lt;summary class=&quot;toggle-button&quot; style=&quot;&quot;&gt;Latest Resume｜最近在找实习哦&lt;/summary&gt;&lt;div class=&quot;toggle-content&quot;&gt;&lt;p&gt;&lt;img src=&quot;https://image.nickxu.me/202310192155894.jpg&quot; alt=&quot;&#39;My Resume (2).&quot;&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/details&gt;
&lt;h1 id=&quot;Junior｜大三&quot;&gt;Junior｜大三&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://nickxu.me/post/my-story-with-OSPP-project-experience-sharing.html&quot;&gt;『OSPP2023』我与 OSPP 的故事 —— 项目经验分享&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://nickxu.me/post/allow-everything-to-happen.html&quot;&gt;你还惦记着你那二面呢｜Allow Everything to Happen</summary>
      
    
    
    
    
  </entry>
  
</feed>
